{
  "hash": "d59eda6fae7e5ae635aa20549326de2d",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Storytelling with Data: Let’s Practice, Improve this table!\"\ndescription: \"Practicing to improve a cross-tab report table using Python\"\nauthor:\n  - name: \"Tuan Le Khac\"\n    url: https://lktuan.github.io/\ndate: 05-22-2024\ncategories: [Python, Visualization] # self-defined categories\nimage: SWD-Cover-FULL-R5-MED.png\ndraft: false # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\n\nformat: \n  html: \n    code-fold: false\n    code-summary: \"Show the code\"\n    code-line-numbers: true\ncss: html/styles.scss\neditor: visual\nfig-cap-location: bottom\n---\n\n# 1. Motivation\nLấy cảm hứng từ bài [post](https://rpubs.com/chidungkt/1139405) của thầy Nguyễn Chí Dũng về việc giải các exercise thuộc Chương 2 cuốn sách **Storytelling with Data: Let’s Practice** của tác giả [Cole Nussbaumer Knaflic](https://www.linkedin.com/in/colenussbaumer/) sử dụng R, mình muốn cải thiện 1 bảng biểu nhưng sử dụng Python (trong cuốn sách gốc, tác giả sử dụng Excel để makeover các graph).\n\nĐây là một cuốn sách hay về chủ để visualization, dành cho những người sử dụng biểu đồ nhiều để communicate trong công việc. Cụm từ \"storytelling\" đang được sử dụng rất nhiều, thậm chí như là một buzzword, một keyword cần có trong CV của mỗi người làm data. Đối với mình, \"storytelling\" chỉ nên được sử dụng khi bạn đã có sẵn các kết quả phân tích, được thực hiện một cách khoa học, và bạn muốn truyền tải nó tới business unit/management một cách hiệu quả. \"Storytelling\" nên không bao giờ là động cơ để bạn thực hiện một phân tích (thứ thay vào đó nên là một **câu hỏi**), thiên kiến sẽ ảnh hưởng tới phương pháp thực hiện, và rất dễ nảy sinh ngụy biện khi kết luận. Hãy xem bài viết này của [Keith McNulty](https://www.linkedin.com/pulse/data-professionals-beware-storytelling-keith-mcnulty/) và [discussion](https://www.linkedin.com/posts/keith-mcnulty_my-most-hated-word-in-data-science-activity-7017097392759918592-2Atc/) trên Linked In.\n\n::: {layout-ncol=1}\n![Photo credit to [swd](https://www.storytellingwithdata.com/blog/2019/8/27/lets-practice)](swd_chap5.png){width=100%}\n:::\n\n# 2. Let's Practice\nMình đang học `{ggplot2}` trên R để thực hành hình ảnh hóa dữ liệu, tuy nhiên có vẻ package này (và tương ứng là `plotnine` trên Python không phù hợp cho báo cáo bảng). Trong bài post, thầy Dũng cũng sử dụng một library khác là `kableExtra` (tham khảo [đây](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html)).\n\nSau một lúc google thì có vẻ có một package của Python phù hợp để làm nhiệm vụ này, đó là `great_tables` (tham khảo [đây](https://posit-dev.github.io/great-tables/articles/intro.html)). Package này cũng được khuyến khích sử dụng cho mục đích communication bởi [Emily Riederer](https://www.emilyriederer.com/post/py-rgo/#the-stack).\n\n## 2.1. Import the data\nOkay đầu tiên cần import và làm sạch dữ liệu. Bảng có sẵn trong file Exercise có vẻ dùng để báo cáo hơn là lưu trữ dữ liệu.\n\n::: {#1f560f59 .cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\n\ndata = pd.read_excel(\n  \"2.1 EXERCISE.xlsx\",\n  sheet_name = \"EXERCISE 2.1\",\n  skiprows=6\n)\n\ndata = data.drop('Unnamed: 0', axis=1)\ndata = data.rename(columns={ \"Tier\": \"tier\"\n                    ,\"# of Accounts\": \"no_of_account\"\n                    ,\"% Accounts\": \"pct_of_account\"\n                    ,\"Revenue ($M)\": \"revenue\"\n                    ,\"% Revenue\": \"pct_of_revenue\"})\n```\n:::\n\n\n## 2.2. Data manipulation\nYep giờ ta đã có 1 bảng data khá sạch, tuy nhiên lưu ý là bảng đang không thể hiện toàn bộ dữ liệu (total của `pct_of_account` chỉ là `81.86%`). Ta cần tính toán thêm `All other` và `Grand Total` (lý do là mình chưa tìm thấy function hiển thị Grand Total với package đang sử dụng, ngay cả trong ví dụ [này](https://posit-dev.github.io/great-tables/blog/pycon-2024-great-tables-are-possible/), GT cũng sử dụng data đã có sẵn Grand Total).\n\n::: {#53c42e53 .cell execution_count=2}\n``` {.python .cell-code}\nall_other_pct_of_account = 1 - data[\"pct_of_account\"].sum()\nall_other_no_of_account = round(all_other_pct_of_account / data[\"pct_of_account\"][0] * data[\"no_of_account\"][0],0)\n\nall_other_pct_of_revenue = 1 - data[\"pct_of_revenue\"].sum()\nall_other_revenue = round(all_other_pct_of_revenue / data[\"pct_of_revenue\"][0] * data[\"revenue\"][0],3)\n\nall_other = pd.Series({ \"tier\": \"All other\",\n                        \"no_of_account\": all_other_no_of_account,\n                        \"pct_of_account\": all_other_pct_of_account,\n                        \"revenue\":all_other_revenue,\n                        \"pct_of_revenue\": all_other_pct_of_revenue})\n\ndata = pd.concat([data, all_other.to_frame().T], ignore_index=True)\n\ndata.loc[len(data.index)] = data.sum()\ndata.loc[data.index[-1], 'tier'] = 'Grand Total'\n```\n:::\n\n\nShow the data:\n\n::: {#96daf7f1 .cell execution_count=3}\n``` {.python .cell-code}\nfrom great_tables import GT\n\n( \n  GT(data)\n  .fmt_number(columns= [\"no_of_account\",\"pct_of_account\",\"revenue\",\"pct_of_revenue\"],decimals=2))\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div id=\"uczndrmske\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>\n#uczndrmske table {\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n\n#uczndrmske thead, tbody, tfoot, tr, td, th { border-style: none; }\n tr { background-color: transparent; }\n#uczndrmske p { margin: 0; padding: 0; }\n #uczndrmske .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }\n #uczndrmske .gt_caption { padding-top: 4px; padding-bottom: 4px; }\n #uczndrmske .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }\n #uczndrmske .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }\n #uczndrmske .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #uczndrmske .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #uczndrmske .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #uczndrmske .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }\n #uczndrmske .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }\n #uczndrmske .gt_column_spanner_outer:first-child { padding-left: 0; }\n #uczndrmske .gt_column_spanner_outer:last-child { padding-right: 0; }\n #uczndrmske .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }\n #uczndrmske .gt_spanner_row { border-bottom-style: hidden; }\n #uczndrmske .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }\n #uczndrmske .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; }\n #uczndrmske .gt_from_md> :first-child { margin-top: 0; }\n #uczndrmske .gt_from_md> :last-child { margin-bottom: 0; }\n #uczndrmske .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; }\n #uczndrmske .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; }\n #uczndrmske .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }\n #uczndrmske .gt_row_group_first td { border-top-width: 2px; }\n #uczndrmske .gt_row_group_first th { border-top-width: 2px; }\n #uczndrmske .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #uczndrmske .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }\n #uczndrmske .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }\n #uczndrmske .gt_left { text-align: left; }\n #uczndrmske .gt_center { text-align: center; }\n #uczndrmske .gt_right { text-align: right; font-variant-numeric: tabular-nums; }\n #uczndrmske .gt_font_normal { font-weight: normal; }\n #uczndrmske .gt_font_bold { font-weight: bold; }\n #uczndrmske .gt_font_italic { font-style: italic; }\n #uczndrmske .gt_super { font-size: 65%; }\n #uczndrmske .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }\n #uczndrmske .gt_asterisk { font-size: 100%; vertical-align: 0; }\n \n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n\n<tr class=\"gt_col_headings\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"tier\">tier</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"no_of_account\">no_of_account</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"pct_of_account\">pct_of_account</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"revenue\">revenue</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"pct_of_revenue\">pct_of_revenue</th>\n</tr>\n<tbody class=\"gt_table_body\">\n  <tr>\n    <td class=\"gt_row gt_left\">A</td>\n    <td class=\"gt_row gt_right\">77.00</td>\n    <td class=\"gt_row gt_right\">0.07</td>\n    <td class=\"gt_row gt_right\">4.67</td>\n    <td class=\"gt_row gt_right\">0.25</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">A+</td>\n    <td class=\"gt_row gt_right\">19.00</td>\n    <td class=\"gt_row gt_right\">0.02</td>\n    <td class=\"gt_row gt_right\">3.93</td>\n    <td class=\"gt_row gt_right\">0.21</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">B</td>\n    <td class=\"gt_row gt_right\">338.00</td>\n    <td class=\"gt_row gt_right\">0.31</td>\n    <td class=\"gt_row gt_right\">5.98</td>\n    <td class=\"gt_row gt_right\">0.32</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">C</td>\n    <td class=\"gt_row gt_right\">425.00</td>\n    <td class=\"gt_row gt_right\">0.39</td>\n    <td class=\"gt_row gt_right\">2.80</td>\n    <td class=\"gt_row gt_right\">0.15</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">D</td>\n    <td class=\"gt_row gt_right\">24.00</td>\n    <td class=\"gt_row gt_right\">0.02</td>\n    <td class=\"gt_row gt_right\">0.37</td>\n    <td class=\"gt_row gt_right\">0.02</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">All other</td>\n    <td class=\"gt_row gt_right\">205.00</td>\n    <td class=\"gt_row gt_right\">0.19</td>\n    <td class=\"gt_row gt_right\">0.94</td>\n    <td class=\"gt_row gt_right\">0.05</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">Grand Total</td>\n    <td class=\"gt_row gt_right\">1,088.00</td>\n    <td class=\"gt_row gt_right\">1.00</td>\n    <td class=\"gt_row gt_right\">18.70</td>\n    <td class=\"gt_row gt_right\">1.00</td>\n  </tr>\n</tbody>\n\n\n</table>\n\n</div>\n        \n```\n:::\n:::\n\n\n## 2.3. Visualization\nĐược rồi, giờ ta có thể dùng `great_tables` để tiến hành visualize. Về cơ bản, chỉ cần khởi tạo một object `GT()` có  thể mở rộng được, các element/hoặc format được định nghĩa về sau.\n\nDưới đây chúng ta trình bày một bảng đơn giản với tiêu đề, tên cột, cũng như định dạng lại dữ liệu.\n\n::: {#2ef6693d .cell execution_count=4}\n``` {.python .cell-code}\n(\n  GT(data)\n  .tab_header(title=\"New client tier share\")\n  .cols_label(\n    tier = \"Tier\",\n    no_of_account = \"# of Accounts\",\n    pct_of_account = \"% Accounts\",\n    revenue = \"Revenue ($M)\",\n    pct_of_revenue = \"% Revenue\"\n  )\n  .fmt_number(columns=\"no_of_account\",decimals=0)\n  .fmt_percent(columns=[\"pct_of_account\", \"pct_of_revenue\"], decimals=2)\n  .fmt_currency(columns = \"revenue\", currency=\"USD\", decimals=2)\n  .tab_source_note(source_note=\"Figure 2.1b: Slightly improved table\")\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n<div id=\"yglrxdglqz\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>\n#yglrxdglqz table {\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n\n#yglrxdglqz thead, tbody, tfoot, tr, td, th { border-style: none; }\n tr { background-color: transparent; }\n#yglrxdglqz p { margin: 0; padding: 0; }\n #yglrxdglqz .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }\n #yglrxdglqz .gt_caption { padding-top: 4px; padding-bottom: 4px; }\n #yglrxdglqz .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }\n #yglrxdglqz .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }\n #yglrxdglqz .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #yglrxdglqz .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #yglrxdglqz .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #yglrxdglqz .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }\n #yglrxdglqz .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }\n #yglrxdglqz .gt_column_spanner_outer:first-child { padding-left: 0; }\n #yglrxdglqz .gt_column_spanner_outer:last-child { padding-right: 0; }\n #yglrxdglqz .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }\n #yglrxdglqz .gt_spanner_row { border-bottom-style: hidden; }\n #yglrxdglqz .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }\n #yglrxdglqz .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; }\n #yglrxdglqz .gt_from_md> :first-child { margin-top: 0; }\n #yglrxdglqz .gt_from_md> :last-child { margin-bottom: 0; }\n #yglrxdglqz .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; }\n #yglrxdglqz .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; }\n #yglrxdglqz .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }\n #yglrxdglqz .gt_row_group_first td { border-top-width: 2px; }\n #yglrxdglqz .gt_row_group_first th { border-top-width: 2px; }\n #yglrxdglqz .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #yglrxdglqz .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }\n #yglrxdglqz .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }\n #yglrxdglqz .gt_left { text-align: left; }\n #yglrxdglqz .gt_center { text-align: center; }\n #yglrxdglqz .gt_right { text-align: right; font-variant-numeric: tabular-nums; }\n #yglrxdglqz .gt_font_normal { font-weight: normal; }\n #yglrxdglqz .gt_font_bold { font-weight: bold; }\n #yglrxdglqz .gt_font_italic { font-style: italic; }\n #yglrxdglqz .gt_super { font-size: 65%; }\n #yglrxdglqz .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }\n #yglrxdglqz .gt_asterisk { font-size: 100%; vertical-align: 0; }\n \n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n<thead class=\"gt_header\">\n  <tr>\n    <th colspan=\"5\" class=\"gt_heading gt_title gt_font_normal\">New client tier share</th>\n  </tr>\n</thead>\n<tr class=\"gt_col_headings\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Tier\">Tier</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# of Accounts\"># of Accounts</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"% Accounts\">% Accounts</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Revenue ($M)\">Revenue ($M)</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"% Revenue\">% Revenue</th>\n</tr>\n<tbody class=\"gt_table_body\">\n  <tr>\n    <td class=\"gt_row gt_left\">A</td>\n    <td class=\"gt_row gt_right\">77</td>\n    <td class=\"gt_row gt_right\">7.08%</td>\n    <td class=\"gt_row gt_right\">$4.67</td>\n    <td class=\"gt_row gt_right\">25.00%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">A+</td>\n    <td class=\"gt_row gt_right\">19</td>\n    <td class=\"gt_row gt_right\">1.75%</td>\n    <td class=\"gt_row gt_right\">$3.93</td>\n    <td class=\"gt_row gt_right\">21.00%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">B</td>\n    <td class=\"gt_row gt_right\">338</td>\n    <td class=\"gt_row gt_right\">31.07%</td>\n    <td class=\"gt_row gt_right\">$5.98</td>\n    <td class=\"gt_row gt_right\">32.00%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">C</td>\n    <td class=\"gt_row gt_right\">425</td>\n    <td class=\"gt_row gt_right\">39.06%</td>\n    <td class=\"gt_row gt_right\">$2.80</td>\n    <td class=\"gt_row gt_right\">15.00%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">D</td>\n    <td class=\"gt_row gt_right\">24</td>\n    <td class=\"gt_row gt_right\">2.21%</td>\n    <td class=\"gt_row gt_right\">$0.37</td>\n    <td class=\"gt_row gt_right\">2.00%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">All other</td>\n    <td class=\"gt_row gt_right\">205</td>\n    <td class=\"gt_row gt_right\">18.84%</td>\n    <td class=\"gt_row gt_right\">$0.94</td>\n    <td class=\"gt_row gt_right\">5.00%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">Grand Total</td>\n    <td class=\"gt_row gt_right\">1,088</td>\n    <td class=\"gt_row gt_right\">100.00%</td>\n    <td class=\"gt_row gt_right\">$18.70</td>\n    <td class=\"gt_row gt_right\">100.00%</td>\n  </tr>\n</tbody>\n  <tfoot class=\"gt_sourcenotes\">\n  \n  <tr>\n    <td class=\"gt_sourcenote\" colspan=\"5\">Figure 2.1b: Slightly improved table</td>\n  </tr>\n\n</tfoot>\n\n</table>\n\n</div>\n        \n```\n:::\n:::\n\n\nTrông ổn (ít nhất là trình bày số liệu một cách toàn vẹn) so với bản gốc rồi!\n\nTiếp tục, ta dùng\n- helper `md()` để định dạng lại tiêu đề;\n- sử dụng `.data_color()` để tạo heatmapping;\n- sử dụng `tab_style()` để format dòng Grand Total;\n- sử dụng `.opt_stylize()` để theming.\n\n::: {#0e479dcf .cell execution_count=5}\n``` {.python .cell-code}\nfrom great_tables import md, style, loc\n\n(\n  GT(data)\n  .tab_header(title=md(\"<strong>New client tier share</strong>\"))\n  .opt_align_table_header(align=\"left\")\n  .cols_label(\n    tier = \"Tier\",\n    no_of_account = \"# of Accounts\",\n    pct_of_account = \"% Accounts\",\n    revenue = \"($M) Revenue\", # change the label\n    pct_of_revenue = \"% Revenue\"\n  )\n  .fmt_number(columns=\"no_of_account\",decimals=0)\n  .fmt_percent(columns=[\"pct_of_account\", \"pct_of_revenue\"], decimals=0) # changed decimals\n  .fmt_currency(columns = \"revenue\", currency=\"USD\", decimals=1)# changed decimals\n  .tab_source_note(source_note=\"Figure 2.1c: Table with heatmapping\")\n  .data_color(\n    columns=[\"pct_of_account\", \"pct_of_revenue\"],\n    palette=[\"#57A6A1\", \"#577B8D\", \"#344C64\", \"#240750\"],\n    domain=[0, 1],\n    na_color=\"lightgray\",\n    autocolor_text = False\n  )\n  .tab_style(\n        style=[\n          style.text(style=\"bolder\"),\n          style.fill(\"#EEEEEE\"),\n          style.borders(sides=[\"top\", \"bottom\"], weight='2px', color=\"grey\")\n          ],\n        locations=loc.body(rows=[6])\n  )\n  .opt_stylize(style=5 ,color='blue')\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n<div id=\"dkntzakcdq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>\n#dkntzakcdq table {\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n\n#dkntzakcdq thead, tbody, tfoot, tr, td, th { border-style: none; }\n tr { background-color: transparent; }\n#dkntzakcdq p { margin: 0; padding: 0; }\n #dkntzakcdq .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #D5D5D5; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D5D5D5; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }\n #dkntzakcdq .gt_caption { padding-top: 4px; padding-bottom: 4px; }\n #dkntzakcdq .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }\n #dkntzakcdq .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }\n #dkntzakcdq .gt_heading { background-color: #FFFFFF; text-align: left; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #dkntzakcdq .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D5D5D5; }\n #dkntzakcdq .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D5D5D5; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D5D5D5; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #dkntzakcdq .gt_col_heading { color: #FFFFFF; background-color: #004D80; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }\n #dkntzakcdq .gt_column_spanner_outer { color: #FFFFFF; background-color: #004D80; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }\n #dkntzakcdq .gt_column_spanner_outer:first-child { padding-left: 0; }\n #dkntzakcdq .gt_column_spanner_outer:last-child { padding-right: 0; }\n #dkntzakcdq .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D5D5D5; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }\n #dkntzakcdq .gt_spanner_row { border-bottom-style: hidden; }\n #dkntzakcdq .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D5D5D5; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D5D5D5; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }\n #dkntzakcdq .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D5D5D5; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D5D5D5; vertical-align: middle; }\n #dkntzakcdq .gt_from_md> :first-child { margin-top: 0; }\n #dkntzakcdq .gt_from_md> :last-child { margin-bottom: 0; }\n #dkntzakcdq .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D5D5D5; border-left-style: solid; border-left-width: 1px; border-left-color: #D5D5D5; border-right-style: solid; border-right-width: 1px; border-right-color: #D5D5D5; vertical-align: middle; overflow-x: hidden; }\n #dkntzakcdq .gt_stub { color: #333333; background-color: #929292; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D5D5D5; padding-left: 5px; padding-right: 5px; }\n #dkntzakcdq .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }\n #dkntzakcdq .gt_row_group_first td { border-top-width: 2px; }\n #dkntzakcdq .gt_row_group_first th { border-top-width: 2px; }\n #dkntzakcdq .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D5D5D5; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D5D5D5; }\n #dkntzakcdq .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }\n #dkntzakcdq .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }\n #dkntzakcdq .gt_left { text-align: left; }\n #dkntzakcdq .gt_center { text-align: center; }\n #dkntzakcdq .gt_right { text-align: right; font-variant-numeric: tabular-nums; }\n #dkntzakcdq .gt_font_normal { font-weight: normal; }\n #dkntzakcdq .gt_font_bold { font-weight: bold; }\n #dkntzakcdq .gt_font_italic { font-style: italic; }\n #dkntzakcdq .gt_super { font-size: 65%; }\n #dkntzakcdq .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }\n #dkntzakcdq .gt_asterisk { font-size: 100%; vertical-align: 0; }\n \n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n<thead class=\"gt_header\">\n  <tr>\n    <th colspan=\"5\" class=\"gt_heading gt_title gt_font_normal\"><strong>New client tier share</strong></th>\n  </tr>\n</thead>\n<tr class=\"gt_col_headings\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Tier\">Tier</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# of Accounts\"># of Accounts</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"% Accounts\">% Accounts</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"($M) Revenue\">($M) Revenue</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"% Revenue\">% Revenue</th>\n</tr>\n<tbody class=\"gt_table_body\">\n  <tr>\n    <td class=\"gt_row gt_left\">A</td>\n    <td class=\"gt_row gt_right\">77</td>\n    <td style=\"background-color: #579d9d;\" class=\"gt_row gt_right\">7%</td>\n    <td class=\"gt_row gt_right\">$4.7</td>\n    <td style=\"background-color: #578692;\" class=\"gt_row gt_right\">25%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">A+</td>\n    <td class=\"gt_row gt_right\">19</td>\n    <td style=\"background-color: #57a4a0;\" class=\"gt_row gt_right\">2%</td>\n    <td class=\"gt_row gt_right\">$3.9</td>\n    <td style=\"background-color: #578b94;\" class=\"gt_row gt_right\">21%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">B</td>\n    <td class=\"gt_row gt_right\">338</td>\n    <td style=\"background-color: #577e8e;\" class=\"gt_row gt_right\">31%</td>\n    <td class=\"gt_row gt_right\">$6.0</td>\n    <td style=\"background-color: #577d8e;\" class=\"gt_row gt_right\">32%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">C</td>\n    <td class=\"gt_row gt_right\">425</td>\n    <td style=\"background-color: #517386;\" class=\"gt_row gt_right\">39%</td>\n    <td class=\"gt_row gt_right\">$2.8</td>\n    <td style=\"background-color: #579398;\" class=\"gt_row gt_right\">15%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">D</td>\n    <td class=\"gt_row gt_right\">24</td>\n    <td style=\"background-color: #57a3a0;\" class=\"gt_row gt_right\">2%</td>\n    <td class=\"gt_row gt_right\">$0.4</td>\n    <td style=\"background-color: #57a3a0;\" class=\"gt_row gt_right\">2%</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_left\">All other</td>\n    <td class=\"gt_row gt_right\">205</td>\n    <td style=\"background-color: #578e96;\" class=\"gt_row gt_right\">19%</td>\n    <td class=\"gt_row gt_right\">$0.9</td>\n    <td style=\"background-color: #57a09e;\" class=\"gt_row gt_right\">5%</td>\n  </tr>\n  <tr>\n    <td style=\"font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey;\" class=\"gt_row gt_left\">Grand Total</td>\n    <td style=\"font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey;\" class=\"gt_row gt_right\">1,088</td>\n    <td style=\"background-color: #240750; font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey;\" class=\"gt_row gt_right\">100%</td>\n    <td style=\"font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey;\" class=\"gt_row gt_right\">$18.7</td>\n    <td style=\"background-color: #240750; font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey;\" class=\"gt_row gt_right\">100%</td>\n  </tr>\n</tbody>\n  <tfoot class=\"gt_sourcenotes\">\n  \n  <tr>\n    <td class=\"gt_sourcenote\" colspan=\"5\">Figure 2.1c: Table with heatmapping</td>\n  </tr>\n\n</tfoot>\n\n</table>\n\n</div>\n        \n```\n:::\n:::\n\n\nTiếp theo, chúng ta sẽ thử dùng `fmt_nanoplot()` để tạo một bar plots thay cho hai cột percentage.\n\nĐây là một tính năng trong giai đoạn thử nghiệm nên mình thấy chưa thực sử ổn định và tuân theo document mà nhà phát triển đề cập. Trong ví dụ dưới đây mình sử dụng data bar, loại bỏ format do hàng cuối cùng. Tuy nhiên, đồ thị vẫn include giá trị `100%` ở hàng Grand Total để điều chỉnh bar scale.\n\nThêm nữa mình cần chuyển dataframe về polar dataframe, khi đó một column của dl.df là iterable.\n\n::: {#2f9f54d2 .cell execution_count=6}\n``` {.python .cell-code}\nfrom great_tables import md, style, loc, nanoplot_options\nimport numpy as np\nimport polars as pl\n\ndata.at[6, \"pct_of_account\"] = np.nan\ndata.at[6, \"pct_of_revenue\"] = np.nan\n# so that the data scale looks better\n\npl_data = pl.from_pandas(data)\n\n(\n  GT(pl_data, rowname_col=\"tier\")\n  .tab_header(title=md(\"<strong>New client tier share</strong>\"))\n  .opt_align_table_header(align=\"left\")\n  .tab_source_note(source_note=\"Figure 2.1d: Table with data bar\")\n  .cols_label(\n    tier = \"Tier\",\n    no_of_account = \"# of Accounts\",\n    pct_of_account = \"% Accounts\",\n    revenue = \"($M) Revenue\", # change the label\n    pct_of_revenue = \"% Revenue\"\n  )\n  .fmt_number(columns=\"no_of_account\",decimals=0)\n  .fmt_currency(columns = \"revenue\", currency=\"USD\", decimals=1)\n  .fmt_percent(columns=[\"pct_of_account\", \"pct_of_revenue\"], decimals=0) # changed decimals\n  .cols_width(\n    cases={\n        \"tier\": \"20%\",\n        \"no_of_account\": \"20%\",\n        \"pct_of_account\": \"20%\",\n        \"revenue\": \"20%\",\n        \"pct_of_revenue\": \"20%\"      \n    }\n    )\n  .fmt_nanoplot(\n    columns=\"pct_of_account\",\n    rows = [0,1,2,3,4,5],\n    plot_type=\"bar\",\n    plot_height = \"3em\",\n    autoscale=True,\n    options=nanoplot_options(\n      data_bar_stroke_color=\"#577B8D\",\n      data_bar_stroke_width=80,\n      data_bar_fill_color=\"#577B8D\",)\n    )\n  .fmt_nanoplot(\n    columns=\"pct_of_revenue\",\n    rows = [0,1,2,3,4,5],\n    plot_type=\"bar\",\n    plot_height = \"3em\",\n    autoscale=True,\n    options=nanoplot_options(\n      data_bar_stroke_color=\"#577B8D\",\n      data_bar_stroke_width=80,\n      data_bar_fill_color=\"#577B8D\",)\n  )\n  .tab_style(\n        style=[\n          style.text(style=\"bolder\"),\n          style.fill(\"#EEEEEE\"),\n          style.borders(sides=[\"top\", \"bottom\"], weight='2px', color=\"grey\")\n          ],\n        locations=loc.body(rows=[6])\n  )\n  .tab_style(\n        style=[\n          style.text(color=\"#EEEEEE\", size=0.5),\n          ],\n        locations=loc.body(rows=[6], columns=[\"pct_of_account\", \"pct_of_revenue\"])\n  )\n  .opt_stylize(style=3 ,color='blue')\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```{=html}\n<div id=\"mwlfvwwzhq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>\n#mwlfvwwzhq table {\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n\n#mwlfvwwzhq thead, tbody, tfoot, tr, td, th { border-style: none; }\n tr { background-color: transparent; }\n#mwlfvwwzhq p { margin: 0; padding: 0; }\n #mwlfvwwzhq .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: auto; border-top-style: solid; border-top-width: 2px; border-top-color: #929292; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #929292; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }\n #mwlfvwwzhq .gt_caption { padding-top: 4px; padding-bottom: 4px; }\n #mwlfvwwzhq .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }\n #mwlfvwwzhq .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }\n #mwlfvwwzhq .gt_heading { background-color: #FFFFFF; text-align: left; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #mwlfvwwzhq .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #929292; }\n #mwlfvwwzhq .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #929292; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #929292; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #mwlfvwwzhq .gt_col_heading { color: #FFFFFF; background-color: #004D80; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }\n #mwlfvwwzhq .gt_column_spanner_outer { color: #FFFFFF; background-color: #004D80; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }\n #mwlfvwwzhq .gt_column_spanner_outer:first-child { padding-left: 0; }\n #mwlfvwwzhq .gt_column_spanner_outer:last-child { padding-right: 0; }\n #mwlfvwwzhq .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #929292; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }\n #mwlfvwwzhq .gt_spanner_row { border-bottom-style: hidden; }\n #mwlfvwwzhq .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #929292; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #929292; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }\n #mwlfvwwzhq .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #929292; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #929292; vertical-align: middle; }\n #mwlfvwwzhq .gt_from_md> :first-child { margin-top: 0; }\n #mwlfvwwzhq .gt_from_md> :last-child { margin-bottom: 0; }\n #mwlfvwwzhq .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: dashed; border-top-width: 1px; border-top-color: #929292; border-left-style: none; border-left-width: 1px; border-left-color: #929292; border-right-style: none; border-right-width: 1px; border-right-color: #929292; vertical-align: middle; overflow-x: hidden; }\n #mwlfvwwzhq .gt_stub { color: #333333; background-color: #D5D5D5; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: none; border-right-width: 2px; border-right-color: #FFFFFF; padding-left: 5px; padding-right: 5px; }\n #mwlfvwwzhq .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }\n #mwlfvwwzhq .gt_row_group_first td { border-top-width: 2px; }\n #mwlfvwwzhq .gt_row_group_first th { border-top-width: 2px; }\n #mwlfvwwzhq .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #929292; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #929292; }\n #mwlfvwwzhq .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }\n #mwlfvwwzhq .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }\n #mwlfvwwzhq .gt_left { text-align: left; }\n #mwlfvwwzhq .gt_center { text-align: center; }\n #mwlfvwwzhq .gt_right { text-align: right; font-variant-numeric: tabular-nums; }\n #mwlfvwwzhq .gt_font_normal { font-weight: normal; }\n #mwlfvwwzhq .gt_font_bold { font-weight: bold; }\n #mwlfvwwzhq .gt_font_italic { font-style: italic; }\n #mwlfvwwzhq .gt_super { font-size: 65%; }\n #mwlfvwwzhq .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }\n #mwlfvwwzhq .gt_asterisk { font-size: 100%; vertical-align: 0; }\n \n</style>\n<table style=\"table-layout: fixed;; width: 100%\" class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n<colgroup>\n  <col style=\"width:20%;\"/>\n  <col style=\"width:20%;\"/>\n  <col style=\"width:20%;\"/>\n  <col style=\"width:20%;\"/>\n  <col style=\"width:20%;\"/>\n</colgroup>\n\n<thead class=\"gt_header\">\n  <tr>\n    <th colspan=\"5\" class=\"gt_heading gt_title gt_font_normal\"><strong>New client tier share</strong></th>\n  </tr>\n</thead>\n<tr class=\"gt_col_headings\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"\"></th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"# of Accounts\"># of Accounts</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"% Accounts\">% Accounts</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"($M) Revenue\">($M) Revenue</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"% Revenue\">% Revenue</th>\n</tr>\n<tbody class=\"gt_table_body\">\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">A</th>\n    <td class=\"gt_row gt_right\">77</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"108.70588235294117\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.071</text></g></svg></div></td>\n    <td class=\"gt_row gt_right\">$4.7</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"468.75\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.25</text></g></svg></div></td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">A+</th>\n    <td class=\"gt_row gt_right\">19</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"26.823529411764707\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.017</text></g></svg></div></td>\n    <td class=\"gt_row gt_right\">$3.9</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"393.75\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.21</text></g></svg></div></td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">B</th>\n    <td class=\"gt_row gt_right\">338</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"477.1764705882353\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.31</text></g></svg></div></td>\n    <td class=\"gt_row gt_right\">$6.0</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"600.0\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.32</text></g></svg></div></td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">C</th>\n    <td class=\"gt_row gt_right\">425</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"600.0\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.39</text></g></svg></div></td>\n    <td class=\"gt_row gt_right\">$2.8</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"281.25\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.15</text></g></svg></div></td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">D</th>\n    <td class=\"gt_row gt_right\">24</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"33.88235294117647\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.022</text></g></svg></div></td>\n    <td class=\"gt_row gt_right\">$0.4</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"37.5\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.020</text></g></svg></div></td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">All other</th>\n    <td class=\"gt_row gt_right\">205</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"289.41176470588226\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.19</text></g></svg></div></td>\n    <td class=\"gt_row gt_right\">$0.9</td>\n    <td class=\"gt_row gt_right\"><div><svg role=\"img\" viewBox=\"0 0 600 130\" style=\"height: 3em; margin-left: auto; margin-right: auto; font-size: inherit; overflow: visible; vertical-align: middle; position:relative;\"><defs><pattern id=\"area_pattern\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\"><path class=\"pattern-line\" d=\"M 0,8 l 8,-8 M -1,1 l 4,-4 M 6,10 l 4,-4\" stroke=\"#FF0000\" stroke-width=\"1.5\" stroke-linecap=\"round\" shape-rendering=\"geometricPrecision\"></path></pattern></defs><style> text { font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace; stroke-width: 0.15em; paint-order: stroke; stroke-linejoin: round; cursor: default; } .vert-line:hover rect { fill: #911EB4; fill-opacity: 40%; stroke: #FFFFFF60; color: red; } .vert-line:hover text { stroke: white; fill: #212427; } .horizontal-line:hover text {stroke: white; fill: #212427; } .ref-line:hover rect { stroke: #FFFFFF60; } .ref-line:hover line { stroke: #FF0000; } .ref-line:hover text { stroke: white; fill: #212427; } .y-axis-line:hover rect { fill: #EDEDED; fill-opacity: 60%; stroke: #FFFFFF60; color: red; } .y-axis-line:hover text { stroke: white; stroke-width: 0.20em; fill: #1A1C1F; } </style><line x1=\"0.0\" y1=\"5.0\" x2=\"0.0\" y2=\"125.0\" stroke=\"#BFBFBF\" stroke-width=\"4\"></line><rect x=\"0.0\" y=\"45.0\" width=\"93.74999999999987\" height=\"40\" stroke=\"#577B8D\" stroke-width=\"80\" fill=\"#577B8D\"></rect><g class=\"horizontal-line\"><rect x=\"0\" y=\"45.0\" width=\"600\" height=\"40\" stroke=\"transparent\" stroke-width=\"12\" fill=\"transparent\"></rect><text x=\"10.0\" y=\"25\" fill=\"transparent\" stroke=\"transparent\" font-size=\"30px\">0.050</text></g></svg></div></td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">Grand Total</th>\n    <td style=\"font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey;\" class=\"gt_row gt_right\">1,088</td>\n    <td style=\"font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey; color: #EEEEEE;font-size: 0.5;\" class=\"gt_row gt_right\">None</td>\n    <td style=\"font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey;\" class=\"gt_row gt_right\">$18.7</td>\n    <td style=\"font-style: bolder; background-color: #EEEEEE; border-top: 2px solid grey;border-bottom: 2px solid grey; color: #EEEEEE;font-size: 0.5;\" class=\"gt_row gt_right\">None</td>\n  </tr>\n</tbody>\n  <tfoot class=\"gt_sourcenotes\">\n  \n  <tr>\n    <td class=\"gt_sourcenote\" colspan=\"5\">Figure 2.1d: Table with data bar</td>\n  </tr>\n\n</tfoot>\n\n</table>\n\n</div>\n        \n```\n:::\n:::\n\n\n`great_tables` vẫn chưa thực sự render ra được bảng biểu đúng như setting.\n\nBài thực hành đến đây là kết thúc! 🚀\n\n# References\n1. <https://www.storytellingwithdata.com/books>\n2. <https://rpubs.com/chidungkt/1139405>\n3. <https://posit-dev.github.io/great-tables/articles/intro.html>\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}