{
  "hash": "6fac0da973056c3eeb99596f43f66873",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"I am participating Plotnine Contest 2024 üöÄ\"\ndescription: \"While  learning the grammar of graphics with {ggplot2}, let's see how can we do the same in Python {plotnine}\"\nauthor:\n  - name: \"Tuan Le Khac\"\n    url: https://lktuan.github.io/\ndate: 05-30-2024\nmodified-date: 05-30-2024\ncategories: [Python, Plotnine, ggplot2, data visualization] \nimage: plotnine_logo.jpg\ndraft: true \nformat: \n  html: \n    code-fold: false\n    code-summary: \"Show the code\"\n    code-line-numbers: true\ncss: html/styles.scss\nfig-cap-location: bottom\neditor: visual\n---\n\n# 1. Motivation üî•\n\nI've heard for a while that there is a package called `plotnine`, which is an implementation of the grammar of graphics in Python based on `ggplot2`, but have not had a chance to practice yet. The Plotnine Contest shared by [Christoph Scheuch](https://www.linkedin.com/posts/christophscheuch_python-dataviz-activity-7198933177287983104-quhR) and [Rami Krispin](https://www.linkedin.com/posts/rami-krispin_python-datascience-dataviz-activity-7199741039849476096-t4f3) motivated me to attend this challenge.\n\n\n::: {layout-ncol=1}\n![Photo credit to [Posit](https://posit.co/blog/announcing-the-2024-plotnine-contest/)](posit_plotnine_contest_banner.jpg){width=100%}\n:::\n\n# 2. My Submission üö¥‚Äç‚ôÇÔ∏è\nThe initial idea is to re-create/enhance [this Dumbell chart](https://www.visualcapitalist.com/countries-with-biggest-happiness-gaps-between-generations/) from Visual Capitalist.\n\n::: {layout-ncol=1}\n![Photo credit to [Visual Capitalist](https://www.visualcapitalist.com/countries-with-biggest-happiness-gaps-between-generations/)](Voro-Happiness-gap-Site-Footer.jpg){width=100%}\n:::\n\n## 2.1. Getting the data\n\n::: {#c46e6289 .cell execution_count=1}\n``` {.python .cell-code}\nimport requests\nimport pandas as pd\nfrom io import StringIO\n\n\nurl = \"https://www.visualcapitalist.com/countries-with-biggest-happiness-gaps-between-generations/\"\nheaders = {'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.102 Safari/537.36'}\nresponse = requests.get(url, headers=headers)\nhtml = response.content.decode()\n\ndata = pd.read_html(StringIO(html),attrs={\"id\": \"tablepress-4104\"})[0]\ndata[\"Country\"] = data[\"Country\"].str[3:] # remove the country alias\n```\n:::\n\n\n## 2.2. Plotting\nTBU\n\n# 3. Resources üìö\n1. [Announcing the 2024 Plotnine Contest](https://posit.co/blog/announcing-the-2024-plotnine-contest/);\n2. [Plotnine Github repo](https://github.com/has2k1/plotnine);\n3. [Plotnine Documentation](https://plotnine.org/)\n4. [**Visual Capitalist**, Ranked: Countries Where Youth are the Most Unhappy, Relative to Older Generations](https://www.visualcapitalist.com/countries-with-biggest-happiness-gaps-between-generations/)\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}