{
  "hash": "5478b2a4eebadedfaaf8c35c7b585a77",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Về quy ước đặt tên dữ liệu\"\ndescription: \"Danh pháp quy ước để đặt tên cho dữ liệu dạng bảng, tăng tốc độ hiểu biết và sử dụng dữ liệu\"\nauthor:\n  - name: \"Tuan Le Khac\"\n    url: https://lktuan.github.io/\ndate: 06-05-2024\ndate-modified: 07-03-2024\ncategories: [data quality, name convention, controlled vocabulary, metadata] \nimage: pepe.jpg\ndraft: false\nformat: \n  html: \n    code-fold: false\n    code-summary: \"Show the code\"\n    code-line-numbers: true\ncss: html/styles.scss\nfig-cap-location: bottom\neditor: visual\n---\n\n:::{.callout-note name=\"Edit\"}\nCác bạn cũng có thể xem thêm slide về dbtplyr của Emily trong posit::conf ở [đây](https://www.emilyriederer.com/talk/dbtplyr/).\n:::\n\n----------\n\nĐây là keynote từ article [Column Names as Contracts](https://emilyriederer.netlify.app/post/column-name-contracts/) của [Emily Riederer](https://emilyriederer.netlify.app/about).\n\nCác sản phẩm phần mềm luôn tuân theo một quy ước nhất định (về hình ảnh, ký tự) nhằm để người dùng có thể ngay lập tức nắm bắt được cách thức sử dụng, giao tiếp với nó. Ví dụ, nút Home thường sẽ đưa người dùng về trang chủ của một mobile app, nút \"blog\" trên blog của tôi sẽ đưa các bạn tiếp cận danh mục bài viết, etc. Ở layer phía sau, các API được BE viết cần tuân thủ documented inputs & outputs, để các BE khác hay FE có thể sử dụng.\n\nTuy nhiên các bảng dữ liệu lại nằm ở một vùng màu xám không rõ ràng. Data service (từ producer i.e DE -> user i.e DA, DS) đủ tĩnh để không được xem là normal service, nhưng cũng đủ thô để người ta ít chú ý đến nó về mặt giao diện. DE cứ thể lấy hết mọi dữ liệu trong hệ thống, DA nhìn dữ liệu và ngay lập tức giả định được nội dung của (cột) dữ liệu đó.\n\n> Producers wonder why consumers aren’t satisfied, and consumers wonder why the data is never “right”.\n\nCũng có một cách được nhiều tổ chức sử dụng như là Metadata managament, như:\n\n- Lyft’s [Amundsen](https://eng.lyft.com/amundsen-lyfts-data-discovery-metadata-engine-62d27254fbb9)\n- LinkedIn’s [DataHub](https://www.linkedin.com/blog/engineering/archive/data-hub)\n- Netflix’s [Metacat](https://netflixtechblog.com/building-and-scaling-data-lineage-at-netflix-to-improve-data-infrastructure-reliability-and-1a52526a7977)\n\nTuy nhiên giải pháp này là documentation oriented, producer và user đều phải tuân thủ nghiêm ngặt. Nó không *trực diện* khi DE đặt tên cột, hay DA đọc dữ liệu.\n\nÝ tưởng của Emily là chuẩn hóa các quy ước đặt tên dữ liệu bằng [Controlled vocabulary](https://en.wikipedia.org/wiki/Controlled_vocabulary). Minh họa bằng `pointblank`, `collapsibleTree`, và `dplyr`.\n\n# Controlled Vocabulary\n\nCV là phương pháp sử dụng một tập hợp các từ, cụm từ, từ viết tắt để ký hiệu thông tin. Quy ước này cần được định nghĩa đề phù hợp cho tính chất bộ dữ liệu, và cũng đủ đơn giản để người tạo dữ liệu, người sử dụng dữ liệu sử dụng.\n\nVí dụ, 1 ứng dụng booking.\n\n## Level 1: Kiểu dữ liệu, kiểu đo lường\n- `ID`: chỉ đối tượng, dạng numberic, tối ưu cho việc lưu trữ và thường làm khóa chính các bảng'\n- `IND`: giá trị boolean 0/1, tôi thì thường sử dụng các từ như `IS`, `FLAG`;\n- `N`: chỉ các dạng thông tin *có thể đếm (count)* được;\n- `AMT`: chỉ các dạng thông tin có thể tổng, thường đề cập đến *currency*;\n- `VAL`: cũng là số nhưng không thể tổng được (không có ý nghĩa), ví dụ như *kinh độ*, *vĩ độ*;\n- `DT`: ngày;\n- `TM`: giờ hoặc ngày giờ;\n- `CAT`: category\n\nCũng tùy vào dữ liệu, có thể thêm các cụm từ nhất định đề đề cập đến thông tin dữ liệu đó mang lại, ví dụ `ADD` cho address.\n\n## Level 2: Đối tượng, chủ đề\n\nMối quan tâm của người dùng dữ liệu cũng giống như nhà quản trị, xung quanh các đối tượng của business: `USER`, `TRANSACTION`, etc. \n\nĐối với ứng dụng đặt xe, các chủ thể có thể cần quan tâm là `TRIP`, `TRAVELER`, `ACCOMODATION`, `TRANSPORTATION`, etc.\n\n## Level 3-n: Chi tiết\n\nHai tầng trên về cơ bản đã cho phép chúng ta mô tả được cột thông tin, chúng đều thể hiện được thuộc tính của chủ thể. Ví dụ:\n\n- `AMT_TRIP`: giá trị deal của Trip;\n- `ADD_DESTINATION`: Điểm đến của trip.\n\nTuy nhiên tùy vào từng use case, chúng ta hoàn toàn có thể mở rộng được về cả hai phía. Ví dụ:\n\n- Về phía trước: khi làm việc với nhiều layer dữ liệu, ta có thể dùng `RAW`, `STAGING`, `DW`, `DL`, `DM`, etc  \n- Về phía sau: `DAY` hoặc `MONTH` cho `N_DURATION`, `VND` hoặc `USD` cho currency `AMT`. \n\nMiễn là có một quy chuẩn, và nó đủ đơn giản để sử dụng.\n\n## Kết hợp chúng lại\n\nTất nhiên ràng buộc việc đặt tên như vậy không chỉ để trang trí, nó sẽ giúp chúng ta tự động hóa quy trình kiểm soát chất lượng dữ liệu, .\n\nTôi sử dụng [bộ dữ liệu](https://www.kaggle.com/datasets/rkiattisak/traveler-trip-data) này để thực hành (cột dữ liệu đã được đổi tên).\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(trip_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 13\n  ID_TRIP CAT_DESTINATION_CITY DT_START  DT_END N_DURATION_DAY CAT_TRAVELER_NAME\n    <dbl> <chr>                <chr>     <chr>           <dbl> <chr>            \n1       1 London, UK           5/1/2023  5/8/2…              7 John Smith       \n2       2 Phuket, Thailand     6/15/2023 6/20/…              5 Jane Doe         \n3       3 Bali, Indonesia      7/1/2023  7/8/2…              7 David Lee        \n4       4 New York, USA        8/15/2023 8/29/…             14 Sarah Johnson    \n5       5 Tokyo, Japan         9/10/2023 9/17/…              7 Kim Nguyen       \n6       6 Paris, France        10/5/2023 10/10…              5 Michael Brown    \n# ℹ 7 more variables: VAL_AGE_TRAVELER <dbl>, IND_GENDER_TRAVELER <chr>,\n#   CAT_TRAVELER_NATIONALITY <chr>, CAT_ACCOMMODATION_TYPE <chr>,\n#   AMT_ACCOMMODATION_COST <chr>, CAT_TRANSPORTATION_TYPE <chr>,\n#   AMT_TRANSPORTATION_COST <chr>\n```\n\n\n:::\n:::\n\n\n# Data Validation\n\nSử dụng `pointblank` của R để kiếm tra một số tính chất của dữ liệu:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(pointblank)\n\nagent <-\n  trip_data  %>% \n  create_agent(actions = action_levels(stop_at = 0.001)) %>% \n  col_vals_gte(starts_with(\"N\"), 0) %>% # check if cols start with N is GTE 0 or not\n  col_vals_gte(starts_with(\"VAL\"), 0) %>% # check if cols start with VAL is GTE 0 or not\n  col_vals_not_null(starts_with(\"IND\")) %>% # check if cols start with IND contain Null or not\n  col_vals_in_set(starts_with(\"IND\"), c(\"Male\",\"Female\")) %>% # validate the value of only column started with IND - Gender\n  col_is_date(starts_with(\"DT\")) %>% # check validation of date columns\n  interrogate()\n```\n:::\n\n\n:::{.column-margin}\nNote: To type `pipe` operator in VS Code, use this in the `keybindings.json` file:\n```json\n{\n  \"key\": \"Ctrl+Shift+m\",             \n  \"command\": \"type\", \n  \"args\": { \"text\": \" %>% \" },\n  \"when\": \"editorTextFocus \n            && !editorHasSelection \n            && editorLangId \n            == 'quarto'\" \n}\n```\nThen you can get the `pipe` when type `Ctrl + Shift + M`.\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nagent\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"pb_agent\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n@import url(\"https://unpkg.com/balloon-css/balloon.min.css\");\n#pb_agent table {\n  font-family: 'IBM Plex Sans', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pb_agent thead, #pb_agent tbody, #pb_agent tfoot, #pb_agent tr, #pb_agent td, #pb_agent th {\n  border-style: none;\n}\n\n#pb_agent p {\n  margin: 0;\n  padding: 0;\n}\n\n#pb_agent .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 90%;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pb_agent .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pb_agent .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pb_agent .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pb_agent .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pb_agent .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pb_agent .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pb_agent .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pb_agent .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pb_agent .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pb_agent .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pb_agent .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pb_agent .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pb_agent .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pb_agent .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pb_agent .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pb_agent .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pb_agent .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pb_agent .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pb_agent .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pb_agent .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pb_agent .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pb_agent .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pb_agent .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pb_agent .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pb_agent .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pb_agent .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pb_agent .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pb_agent .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pb_agent .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pb_agent .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pb_agent .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pb_agent .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pb_agent .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pb_agent .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pb_agent .gt_left {\n  text-align: left;\n}\n\n#pb_agent .gt_center {\n  text-align: center;\n}\n\n#pb_agent .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pb_agent .gt_font_normal {\n  font-weight: normal;\n}\n\n#pb_agent .gt_font_bold {\n  font-weight: bold;\n}\n\n#pb_agent .gt_font_italic {\n  font-style: italic;\n}\n\n#pb_agent .gt_super {\n  font-size: 65%;\n}\n\n#pb_agent .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pb_agent .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pb_agent .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pb_agent .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pb_agent .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pb_agent .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pb_agent .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#pb_agent {\n  -webkit-font-smoothing: antialiased;\n}\n\n#pb_agent .gt_row {\n  overflow: visible;\n}\n\n#pb_agent .gt_sourcenote {\n  height: 35px;\n  padding: 0;\n}\n\n#pb_agent code {\n  font-family: 'IBM Plex Mono', monospace, courier;\n  color: black;\n  background-color: transparent;\n  padding: 0;\n}\n</style>\n<table class=\"gt_table\" style=\"table-layout: fixed;; width: 0px\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <colgroup>\n    <col style=\"width:6px;\"/>\n    <col style=\"width:35px;\"/>\n    <col style=\"width:190px;\"/>\n    <col style=\"width:120px;\"/>\n    <col style=\"width:120px;\"/>\n    <col style=\"width:50px;\"/>\n    <col style=\"width:50px;\"/>\n    <col style=\"width:50px;\"/>\n    <col style=\"width:50px;\"/>\n    <col style=\"width:50px;\"/>\n    <col style=\"width:30px;\"/>\n    <col style=\"width:30px;\"/>\n    <col style=\"width:30px;\"/>\n    <col style=\"width:65px;\"/>\n  </colgroup>\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_title gt_font_normal\" style=\"color: #444444; font-size: 28px; text-align: left; font-weight: 500;\">Pointblank Validation</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"14\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style=\"font-size: 12px; text-align: left;\"><span style=\"text-decoration-style:solid;text-decoration-color:#ADD8E6;text-decoration-line:underline;text-underline-position:under;color:#333333;font-variant-numeric:tabular-nums;padding-left:4px;margin-right:5px;padding-right:2px;\">[2024-07-04|09:52:39]</span></p>\n<div style=\"height:25px;padding-top:10px;\"><span style=\"background-color: #F1D35A;color: #222222;padding: 0.5em 0.5em;position: inherit;text-transform: uppercase;margin: 5px 1px 5px 4px;font-weight: bold;border: solid 1px #F1D35A;padding: 2px 10px 2px 10px;font-size: smaller;\">tibble</span><span style=\"background-color:#E5AB00;color:white;padding:0.5em 0.5em;position:inherit;text-transform:uppercase;margin:5px 0px 5px 5px;font-weight:bold;border:solid 1px #E5AB00;padding:2px 15px 2px 15px;font-size:smaller;\">WARN</span>\n<span style=\"background-color:none;color:#333333;padding:0.5em 0.5em;position:inherit;margin:5px 0px 5px -4px;font-weight:bold;border:solid 1px #E5AB00;padding:2px 15px 2px 15px;font-size:smaller;\">&mdash;</span>\n<span style=\"background-color:#D0182F;color:white;padding:0.5em 0.5em;position:inherit;text-transform:uppercase;margin:5px 0px 5px 1px;font-weight:bold;border:solid 1px #D0182F;padding:2px 15px 2px 15px;font-size:smaller;\">STOP</span>\n<span style=\"background-color:none;color:#333333;padding:0.5em 0.5em;position:inherit;margin:5px 0px 5px -4px;font-weight:bold;border:solid 1px #D0182F;padding:2px 15px 2px 15px;font-size:smaller;\">0.00</span>\n<span style=\"background-color:#499FFE;color:white;padding:0.5em 0.5em;position:inherit;text-transform:uppercase;margin:5px 0px 5px 1px;font-weight:bold;border:solid 1px #499FFE;padding:2px 15px 2px 15px;font-size:smaller;\">NOTIFY</span>\n<span style=\"background-color:none;color:#333333;padding:0.5em 0.5em;position:inherit;margin:5px 0px 5px -4px;font-weight:bold;border:solid 1px #499FFE;padding:2px 15px 2px 15px;font-size:smaller;\">&mdash;</span></div>\n</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"STEP\">STEP</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"COLUMNS\">COLUMNS</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"VALUES\">VALUES</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"TBL\">TBL</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"EVAL\">EVAL</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"UNITS\">UNITS</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"PASS\">PASS</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"FAIL\">FAIL</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"W\">W</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"S\">S</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"N\">N</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"color: #666666; font-weight: bold;\" scope=\"col\" id=\"EXT\">EXT</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"status_color\" class=\"gt_row gt_left\" style=\"background-color: #CF142B; height: 40px\"><br /></td>\n<td headers=\"i\" class=\"gt_row gt_right\" style=\"color: #666666; font-size: 13px; font-weight: bold; height: 40px\">1</td>\n<td headers=\"type\" class=\"gt_row gt_left\" style=\"height: 40px\"><div aria-label=\"Expect that values in `N_DURATION_DAY` should be &gt;= `0`. \" data-balloon-pos=\"right\" style=\"width:fit-content;\">\n  <div style=\"margin:0;padding:0;display:inline-block;height:30px;vertical-align:middle;\"><?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"30px\" height=\"30px\" viewBox=\"0 0 67 67\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">    <title>col_vals_gte</title>    <g id=\"All-Icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"col_vals_gte\" transform=\"translate(0.000000, 0.241379)\">            <path d=\"M56.712234,1 C59.1975153,1 61.4475153,2.00735931 63.076195,3.63603897 C64.7048747,5.26471863 65.712234,7.51471863 65.712234,10 L65.712234,10 L65.712234,65 L10.712234,65 C8.22695259,65 5.97695259,63.9926407 4.34827294,62.363961 C2.71959328,60.7352814 1.71223397,58.4852814 1.71223397,56 L1.71223397,56 L1.71223397,10 C1.71223397,7.51471863 2.71959328,5.26471863 4.34827294,3.63603897 C5.97695259,2.00735931 8.22695259,1 10.712234,1 L10.712234,1 Z\" id=\"rectangle\" stroke=\"#000000\" stroke-width=\"2\" fill=\"#FFFFFF\"></path>            <path d=\"M49.712234,12 L17.712234,12 C14.952234,12 12.712234,14.24 12.712234,17 L12.712234,49 C12.712234,51.76 14.952234,54 17.712234,54 L49.712234,54 C52.472234,54 54.712234,51.76 54.712234,49 L54.712234,17 C54.712234,14.24 52.472234,12 49.712234,12 Z M44.712234,47 L22.712234,47 L22.712234,45 L44.712234,45 L44.712234,47 Z M24.182234,40.88 L23.242234,39.12 L40.562234,30 L23.242234,20.88 L24.182234,19.12 L44.862234,30 L24.182234,40.88 Z\" id=\"greater_than_equal\" fill=\"#000000\" fill-rule=\"nonzero\"></path>        </g>    </g></svg></div>\n  <code style=\"font-size:11px;\">&nbsp;col_vals_gte()</code>\n</div></td>\n<td headers=\"columns\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"N_DURATION_DAY\" data-balloon-pos=\"left\">\n  <p style=\"margin-top:0;margin-bottom:0;font-size:11px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:2em;\">\n    <code><span style=\"color:purple;\">&marker;</span>N_DURATION_DAY</code>\n  </p>\n</div></td>\n<td headers=\"values\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"0\" data-balloon-pos=\"left\"><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; white-space: nowrap; text-overflow: ellipsis; overflow: hidden;\"><code>0</code></p></div></td>\n<td headers=\"precon\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:0;color:#333333;vertical-align:middle;font-size:10px;border:none;border-radius:4px;\" aria-label=\"No modifications of the table.\" data-balloon-pos=\"left\"><svg width=\"25px\" height=\"25px\" viewBox=\"0 0 25 25\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"vertical-align: middle;\">    <g id=\"unchanged\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"unchanged\" transform=\"translate(0.500000, 0.570147)\">            <rect id=\"Rectangle\" x=\"0.125132506\" y=\"0\" width=\"23.749735\" height=\"23.7894737\"></rect>            <path d=\"M5.80375046,8.18194736 C3.77191832,8.18194736 2.11875046,9.83495328 2.11875046,11.8669474 C2.11875046,13.8989414 3.77191832,15.5519474 5.80375046,15.5519474 C7.8355826,15.5519474 9.48875046,13.8989414 9.48875046,11.8669474 C9.48875046,9.83495328 7.83552863,8.18194736 5.80375046,8.18194736 Z M5.80375046,14.814915 C4.17821997,14.814915 2.85578285,13.4924778 2.85578285,11.8669474 C2.85578285,10.2414169 4.17821997,8.91897975 5.80375046,8.91897975 C7.42928095,8.91897975 8.75171807,10.2414169 8.75171807,11.8669474 C8.75171807,13.4924778 7.42928095,14.814915 5.80375046,14.814915 Z\" id=\"Shape\" fill=\"#000000\" fill-rule=\"nonzero\"></path>            <path d=\"M13.9638189,8.699335 C13.9364621,8.70430925 13.9091059,8.71176968 13.8842359,8.71923074 C13.7822704,8.73663967 13.6877654,8.77643115 13.6056956,8.83860518 L10.2433156,11.3852598 C10.0766886,11.5046343 9.97720993,11.6986181 9.97720993,11.9025491 C9.97720993,12.1064807 10.0766886,12.3004639 10.2433156,12.4198383 L13.6056956,14.966493 C13.891697,15.1803725 14.2970729,15.1231721 14.5109517,14.8371707 C14.7248313,14.5511692 14.6676309,14.145794 14.3816294,13.9319145 L12.5313257,12.5392127 L21.8812495,12.5392127 L21.8812495,11.2658854 L12.5313257,11.2658854 L14.3816294,9.87318364 C14.6377872,9.71650453 14.7497006,9.40066014 14.6477351,9.11714553 C14.5482564,8.83363156 14.262255,8.65954352 13.9638189,8.699335 Z\" id=\"arrow\" fill=\"#000000\" transform=\"translate(15.929230, 11.894737) rotate(-180.000000) translate(-15.929230, -11.894737) \"></path>        </g>    </g></svg></span></td>\n<td headers=\"eval_sym\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:5px;color:#4CA64C;vertical-align:middle;font-size:15px;border:none;\" aria-label=\"No evaluation issues.\" data-balloon-pos=\"left\">&check;</span></td>\n<td headers=\"units\" class=\"gt_row gt_right\" style=\"font-size: 11px; height: 40px\"><code>139</code></td>\n<td headers=\"n_pass\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>137</code><br><code>0.98561</code></td>\n<td headers=\"n_fail\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>2</code><br><code>0.01439</code></td>\n<td headers=\"W\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"S\" class=\"gt_row gt_center\" style=\"background-color: #FCFCFC; height: 40px\"><span style=\"color: #CF142B;\">&#9679;</span></td>\n<td headers=\"N\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"extract\" class=\"gt_row gt_center\" style=\"height: 40px\"><a href=\"data:text/csv;base64,IklEX1RSSVAiLCJDQVRfREVTVElOQVRJT05fQ0lUWSIsIkRUX1NUQVJUIiwiRFRfRU5EIiwiTl9EVVJBVElPTl9EQVkiLCJDQVRfVFJBVkVMRVJfTkFNRSIsIlZBTF9BR0VfVFJBVkVMRVIiLCJJTkRfR0VOREVSX1RSQVZFTEVSIiwiQ0FUX1RSQVZFTEVSX05BVElPTkFMSVRZIiwiQ0FUX0FDQ09NTU9EQVRJT05fVFlQRSIsIkFNVF9BQ0NPTU1PREFUSU9OX0NPU1QiLCJDQVRfVFJBTlNQT1JUQVRJT05fVFlQRSIsIkFNVF9UUkFOU1BPUlRBVElPTl9DT1NUIg0KNzIsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkENCjEyOCxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQQ0K\" download=\"extract_0001.csv\">\n  <button aria-label=\"There are 2 'fail' rows available as a CSV file.\" data-balloon-pos=\"left\" style=\"background-color:#67C2DC;color:#FFFFFF;border:none;padding:5px;font-weight:bold;cursor:pointer;border-radius:4px;\">CSV</button>\n</a></td></tr>\n    <tr><td headers=\"status_color\" class=\"gt_row gt_left\" style=\"background-color: #CF142B; height: 40px\"><br /></td>\n<td headers=\"i\" class=\"gt_row gt_right\" style=\"color: #666666; font-size: 13px; font-weight: bold; height: 40px\">2</td>\n<td headers=\"type\" class=\"gt_row gt_left\" style=\"height: 40px\"><div aria-label=\"Expect that values in `VAL_AGE_TRAVELER` should be &gt;= `0`. \" data-balloon-pos=\"right\" style=\"width:fit-content;\">\n  <div style=\"margin:0;padding:0;display:inline-block;height:30px;vertical-align:middle;\"><?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"30px\" height=\"30px\" viewBox=\"0 0 67 67\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">    <title>col_vals_gte</title>    <g id=\"All-Icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"col_vals_gte\" transform=\"translate(0.000000, 0.241379)\">            <path d=\"M56.712234,1 C59.1975153,1 61.4475153,2.00735931 63.076195,3.63603897 C64.7048747,5.26471863 65.712234,7.51471863 65.712234,10 L65.712234,10 L65.712234,65 L10.712234,65 C8.22695259,65 5.97695259,63.9926407 4.34827294,62.363961 C2.71959328,60.7352814 1.71223397,58.4852814 1.71223397,56 L1.71223397,56 L1.71223397,10 C1.71223397,7.51471863 2.71959328,5.26471863 4.34827294,3.63603897 C5.97695259,2.00735931 8.22695259,1 10.712234,1 L10.712234,1 Z\" id=\"rectangle\" stroke=\"#000000\" stroke-width=\"2\" fill=\"#FFFFFF\"></path>            <path d=\"M49.712234,12 L17.712234,12 C14.952234,12 12.712234,14.24 12.712234,17 L12.712234,49 C12.712234,51.76 14.952234,54 17.712234,54 L49.712234,54 C52.472234,54 54.712234,51.76 54.712234,49 L54.712234,17 C54.712234,14.24 52.472234,12 49.712234,12 Z M44.712234,47 L22.712234,47 L22.712234,45 L44.712234,45 L44.712234,47 Z M24.182234,40.88 L23.242234,39.12 L40.562234,30 L23.242234,20.88 L24.182234,19.12 L44.862234,30 L24.182234,40.88 Z\" id=\"greater_than_equal\" fill=\"#000000\" fill-rule=\"nonzero\"></path>        </g>    </g></svg></div>\n  <code style=\"font-size:11px;\">&nbsp;col_vals_gte()</code>\n</div></td>\n<td headers=\"columns\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"VAL_AGE_TRAVELER\" data-balloon-pos=\"left\">\n  <p style=\"margin-top:0;margin-bottom:0;font-size:11px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:2em;\">\n    <code><span style=\"color:purple;\">&marker;</span>VAL_AGE_TRAVELER</code>\n  </p>\n</div></td>\n<td headers=\"values\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"0\" data-balloon-pos=\"left\"><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; white-space: nowrap; text-overflow: ellipsis; overflow: hidden;\"><code>0</code></p></div></td>\n<td headers=\"precon\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:0;color:#333333;vertical-align:middle;font-size:10px;border:none;border-radius:4px;\" aria-label=\"No modifications of the table.\" data-balloon-pos=\"left\"><svg width=\"25px\" height=\"25px\" viewBox=\"0 0 25 25\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"vertical-align: middle;\">    <g id=\"unchanged\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"unchanged\" transform=\"translate(0.500000, 0.570147)\">            <rect id=\"Rectangle\" x=\"0.125132506\" y=\"0\" width=\"23.749735\" height=\"23.7894737\"></rect>            <path d=\"M5.80375046,8.18194736 C3.77191832,8.18194736 2.11875046,9.83495328 2.11875046,11.8669474 C2.11875046,13.8989414 3.77191832,15.5519474 5.80375046,15.5519474 C7.8355826,15.5519474 9.48875046,13.8989414 9.48875046,11.8669474 C9.48875046,9.83495328 7.83552863,8.18194736 5.80375046,8.18194736 Z M5.80375046,14.814915 C4.17821997,14.814915 2.85578285,13.4924778 2.85578285,11.8669474 C2.85578285,10.2414169 4.17821997,8.91897975 5.80375046,8.91897975 C7.42928095,8.91897975 8.75171807,10.2414169 8.75171807,11.8669474 C8.75171807,13.4924778 7.42928095,14.814915 5.80375046,14.814915 Z\" id=\"Shape\" fill=\"#000000\" fill-rule=\"nonzero\"></path>            <path d=\"M13.9638189,8.699335 C13.9364621,8.70430925 13.9091059,8.71176968 13.8842359,8.71923074 C13.7822704,8.73663967 13.6877654,8.77643115 13.6056956,8.83860518 L10.2433156,11.3852598 C10.0766886,11.5046343 9.97720993,11.6986181 9.97720993,11.9025491 C9.97720993,12.1064807 10.0766886,12.3004639 10.2433156,12.4198383 L13.6056956,14.966493 C13.891697,15.1803725 14.2970729,15.1231721 14.5109517,14.8371707 C14.7248313,14.5511692 14.6676309,14.145794 14.3816294,13.9319145 L12.5313257,12.5392127 L21.8812495,12.5392127 L21.8812495,11.2658854 L12.5313257,11.2658854 L14.3816294,9.87318364 C14.6377872,9.71650453 14.7497006,9.40066014 14.6477351,9.11714553 C14.5482564,8.83363156 14.262255,8.65954352 13.9638189,8.699335 Z\" id=\"arrow\" fill=\"#000000\" transform=\"translate(15.929230, 11.894737) rotate(-180.000000) translate(-15.929230, -11.894737) \"></path>        </g>    </g></svg></span></td>\n<td headers=\"eval_sym\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:5px;color:#4CA64C;vertical-align:middle;font-size:15px;border:none;\" aria-label=\"No evaluation issues.\" data-balloon-pos=\"left\">&check;</span></td>\n<td headers=\"units\" class=\"gt_row gt_right\" style=\"font-size: 11px; height: 40px\"><code>139</code></td>\n<td headers=\"n_pass\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>137</code><br><code>0.98561</code></td>\n<td headers=\"n_fail\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>2</code><br><code>0.01439</code></td>\n<td headers=\"W\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"S\" class=\"gt_row gt_center\" style=\"background-color: #FCFCFC; height: 40px\"><span style=\"color: #CF142B;\">&#9679;</span></td>\n<td headers=\"N\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"extract\" class=\"gt_row gt_center\" style=\"height: 40px\"><a href=\"data:text/csv;base64,IklEX1RSSVAiLCJDQVRfREVTVElOQVRJT05fQ0lUWSIsIkRUX1NUQVJUIiwiRFRfRU5EIiwiTl9EVVJBVElPTl9EQVkiLCJDQVRfVFJBVkVMRVJfTkFNRSIsIlZBTF9BR0VfVFJBVkVMRVIiLCJJTkRfR0VOREVSX1RSQVZFTEVSIiwiQ0FUX1RSQVZFTEVSX05BVElPTkFMSVRZIiwiQ0FUX0FDQ09NTU9EQVRJT05fVFlQRSIsIkFNVF9BQ0NPTU1PREFUSU9OX0NPU1QiLCJDQVRfVFJBTlNQT1JUQVRJT05fVFlQRSIsIkFNVF9UUkFOU1BPUlRBVElPTl9DT1NUIg0KNzIsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkENCjEyOCxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQQ0K\" download=\"extract_0002.csv\">\n  <button aria-label=\"There are 2 'fail' rows available as a CSV file.\" data-balloon-pos=\"left\" style=\"background-color:#67C2DC;color:#FFFFFF;border:none;padding:5px;font-weight:bold;cursor:pointer;border-radius:4px;\">CSV</button>\n</a></td></tr>\n    <tr><td headers=\"status_color\" class=\"gt_row gt_left\" style=\"background-color: #CF142B; height: 40px\"><br /></td>\n<td headers=\"i\" class=\"gt_row gt_right\" style=\"color: #666666; font-size: 13px; font-weight: bold; height: 40px\">3</td>\n<td headers=\"type\" class=\"gt_row gt_left\" style=\"height: 40px\"><div aria-label=\"Expect that all values in `IND_GENDER_TRAVELER` should not be NULL. \" data-balloon-pos=\"right\" style=\"width:fit-content;\">\n  <div style=\"margin:0;padding:0;display:inline-block;height:30px;vertical-align:middle;\"><?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"30px\" height=\"30px\" viewBox=\"0 0 67 67\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">    <title>col_vals_not_null</title>    <g id=\"All-Icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"col_vals_not_null\" transform=\"translate(0.000000, 0.551724)\">            <path d=\"M56.712234,1 C59.1975153,1 61.4475153,2.00735931 63.076195,3.63603897 C64.7048747,5.26471863 65.712234,7.51471863 65.712234,10 L65.712234,10 L65.712234,65 L10.712234,65 C8.22695259,65 5.97695259,63.9926407 4.34827294,62.363961 C2.71959328,60.7352814 1.71223397,58.4852814 1.71223397,56 L1.71223397,56 L1.71223397,10 C1.71223397,7.51471863 2.71959328,5.26471863 4.34827294,3.63603897 C5.97695259,2.00735931 8.22695259,1 10.712234,1 L10.712234,1 Z\" id=\"rectangle\" stroke=\"#000000\" stroke-width=\"2\" fill=\"#FFFFFF\"></path>            <path d=\"M40.6120805,47.037834 C37.4692348,47.037834 35.0126139,45.9348613 33.712234,44.0140597 C32.4118541,45.9348613 29.9552331,47.037834 26.8123883,47.037834 C22.6574397,47.037834 16.0646712,43.4437723 16.0646712,33.8021619 C16.0646712,29.3401361 17.4715879,18.962166 30.5035862,18.962166 C30.9454018,18.962166 31.3057481,19.3225124 31.3057481,19.7643279 L31.3057481,21.3686518 C31.3057481,21.8104674 30.9454018,22.1708138 30.5035862,22.1708138 C26.6400486,22.1708138 22.4819668,25.8118774 22.4819668,33.8021619 C22.4819668,37.5090277 23.7635456,43.0270243 27.2949384,43.0270243 C29.795428,43.0270243 31.224279,40.4231312 32.0985095,38.2861221 C30.5067194,35.6101596 29.7014243,33.1034035 29.7014243,30.8347892 C29.7014243,25.6238707 31.8603677,23.7751377 33.712234,23.7751377 C35.5641002,23.7751377 37.7230437,25.6238707 37.7230437,30.8347892 C37.7230437,33.1347383 36.9396828,35.5788255 35.3290916,38.2861221 C36.6294715,41.4321009 38.243196,43.0270243 40.1295295,43.0270243 C43.6609223,43.0270243 44.9425012,37.5090277 44.9425012,33.8021619 C44.9425012,25.8118774 40.7844193,22.1708138 36.9208817,22.1708138 C36.4759329,22.1708138 36.1187198,21.8104674 36.1187198,21.3686518 L36.1187198,19.7643279 C36.1187198,19.3225124 36.4759329,18.962166 36.9208817,18.962166 C49.9528801,18.962166 51.3597967,29.3401361 51.3597967,33.8021619 C51.3597967,43.4437723 44.7670282,47.037834 40.6120805,47.037834 Z\" id=\"omega\" fill=\"#000000\" fill-rule=\"nonzero\"></path>            <path d=\"M33,7.93597705 C33.2761424,7.93597705 33.5,8.15983467 33.5,8.43597705 L33.5,57.564023 C33.5,57.8401653 33.2761424,58.064023 33,58.064023 C32.7238576,58.064023 32.5,57.8401653 32.5,57.564023 L32.5,8.43597705 C32.5,8.15983467 32.7238576,7.93597705 33,7.93597705 Z\" id=\"line_black\" fill=\"#000000\" transform=\"translate(33.000000, 33.000000) rotate(-320.000000) translate(-33.000000, -33.000000) \"></path>            <polygon id=\"line_white\" fill=\"#FFFFFF\" transform=\"translate(34.899496, 32.153303) rotate(-320.000000) translate(-34.899496, -32.153303) \" points=\"34.3994962 8.54160469 35.3994962 8.54160469 35.3994962 55.7650019 34.3994962 55.7650019\"></polygon>        </g>    </g></svg></div>\n  <code style=\"font-size:10px;\">&nbsp;col_vals_not_null()</code>\n</div></td>\n<td headers=\"columns\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"IND_GENDER_TRAVELER\" data-balloon-pos=\"left\">\n  <p style=\"margin-top:0;margin-bottom:0;font-size:11px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:2em;\">\n    <code><span style=\"color:purple;\">&marker;</span>IND_GENDER_TRAVELER</code>\n  </p>\n</div></td>\n<td headers=\"values\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\">—</td>\n<td headers=\"precon\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:0;color:#333333;vertical-align:middle;font-size:10px;border:none;border-radius:4px;\" aria-label=\"No modifications of the table.\" data-balloon-pos=\"left\"><svg width=\"25px\" height=\"25px\" viewBox=\"0 0 25 25\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"vertical-align: middle;\">    <g id=\"unchanged\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"unchanged\" transform=\"translate(0.500000, 0.570147)\">            <rect id=\"Rectangle\" x=\"0.125132506\" y=\"0\" width=\"23.749735\" height=\"23.7894737\"></rect>            <path d=\"M5.80375046,8.18194736 C3.77191832,8.18194736 2.11875046,9.83495328 2.11875046,11.8669474 C2.11875046,13.8989414 3.77191832,15.5519474 5.80375046,15.5519474 C7.8355826,15.5519474 9.48875046,13.8989414 9.48875046,11.8669474 C9.48875046,9.83495328 7.83552863,8.18194736 5.80375046,8.18194736 Z M5.80375046,14.814915 C4.17821997,14.814915 2.85578285,13.4924778 2.85578285,11.8669474 C2.85578285,10.2414169 4.17821997,8.91897975 5.80375046,8.91897975 C7.42928095,8.91897975 8.75171807,10.2414169 8.75171807,11.8669474 C8.75171807,13.4924778 7.42928095,14.814915 5.80375046,14.814915 Z\" id=\"Shape\" fill=\"#000000\" fill-rule=\"nonzero\"></path>            <path d=\"M13.9638189,8.699335 C13.9364621,8.70430925 13.9091059,8.71176968 13.8842359,8.71923074 C13.7822704,8.73663967 13.6877654,8.77643115 13.6056956,8.83860518 L10.2433156,11.3852598 C10.0766886,11.5046343 9.97720993,11.6986181 9.97720993,11.9025491 C9.97720993,12.1064807 10.0766886,12.3004639 10.2433156,12.4198383 L13.6056956,14.966493 C13.891697,15.1803725 14.2970729,15.1231721 14.5109517,14.8371707 C14.7248313,14.5511692 14.6676309,14.145794 14.3816294,13.9319145 L12.5313257,12.5392127 L21.8812495,12.5392127 L21.8812495,11.2658854 L12.5313257,11.2658854 L14.3816294,9.87318364 C14.6377872,9.71650453 14.7497006,9.40066014 14.6477351,9.11714553 C14.5482564,8.83363156 14.262255,8.65954352 13.9638189,8.699335 Z\" id=\"arrow\" fill=\"#000000\" transform=\"translate(15.929230, 11.894737) rotate(-180.000000) translate(-15.929230, -11.894737) \"></path>        </g>    </g></svg></span></td>\n<td headers=\"eval_sym\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:5px;color:#4CA64C;vertical-align:middle;font-size:15px;border:none;\" aria-label=\"No evaluation issues.\" data-balloon-pos=\"left\">&check;</span></td>\n<td headers=\"units\" class=\"gt_row gt_right\" style=\"font-size: 11px; height: 40px\"><code>139</code></td>\n<td headers=\"n_pass\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>137</code><br><code>0.98561</code></td>\n<td headers=\"n_fail\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>2</code><br><code>0.01439</code></td>\n<td headers=\"W\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"S\" class=\"gt_row gt_center\" style=\"background-color: #FCFCFC; height: 40px\"><span style=\"color: #CF142B;\">&#9679;</span></td>\n<td headers=\"N\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"extract\" class=\"gt_row gt_center\" style=\"height: 40px\"><a href=\"data:text/csv;base64,IklEX1RSSVAiLCJDQVRfREVTVElOQVRJT05fQ0lUWSIsIkRUX1NUQVJUIiwiRFRfRU5EIiwiTl9EVVJBVElPTl9EQVkiLCJDQVRfVFJBVkVMRVJfTkFNRSIsIlZBTF9BR0VfVFJBVkVMRVIiLCJJTkRfR0VOREVSX1RSQVZFTEVSIiwiQ0FUX1RSQVZFTEVSX05BVElPTkFMSVRZIiwiQ0FUX0FDQ09NTU9EQVRJT05fVFlQRSIsIkFNVF9BQ0NPTU1PREFUSU9OX0NPU1QiLCJDQVRfVFJBTlNQT1JUQVRJT05fVFlQRSIsIkFNVF9UUkFOU1BPUlRBVElPTl9DT1NUIg0KNzIsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkENCjEyOCxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQQ0K\" download=\"extract_0003.csv\">\n  <button aria-label=\"There are 2 'fail' rows available as a CSV file.\" data-balloon-pos=\"left\" style=\"background-color:#67C2DC;color:#FFFFFF;border:none;padding:5px;font-weight:bold;cursor:pointer;border-radius:4px;\">CSV</button>\n</a></td></tr>\n    <tr><td headers=\"status_color\" class=\"gt_row gt_left\" style=\"background-color: #CF142B; height: 40px\"><br /></td>\n<td headers=\"i\" class=\"gt_row gt_right\" style=\"color: #666666; font-size: 13px; font-weight: bold; height: 40px\">4</td>\n<td headers=\"type\" class=\"gt_row gt_left\" style=\"height: 40px\"><div aria-label=\"Expect that values in `IND_GENDER_TRAVELER` should be in the set of `Male`, `Female`. \" data-balloon-pos=\"right\" style=\"width:fit-content;\">\n  <div style=\"margin:0;padding:0;display:inline-block;height:30px;vertical-align:middle;\"><?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"30px\" height=\"30px\" viewBox=\"0 0 67 67\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">    <title>col_vals_in_set</title>    <g id=\"All-Icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"col_vals_in_set\" transform=\"translate(0.000000, 0.172414)\">            <path d=\"M56.712234,1 C59.1975153,1 61.4475153,2.00735931 63.076195,3.63603897 C64.7048747,5.26471863 65.712234,7.51471863 65.712234,10 L65.712234,10 L65.712234,65 L10.712234,65 C8.22695259,65 5.97695259,63.9926407 4.34827294,62.363961 C2.71959328,60.7352814 1.71223397,58.4852814 1.71223397,56 L1.71223397,56 L1.71223397,10 C1.71223397,7.51471863 2.71959328,5.26471863 4.34827294,3.63603897 C5.97695259,2.00735931 8.22695259,1 10.712234,1 L10.712234,1 Z\" id=\"rectangle\" stroke=\"#000000\" stroke-width=\"2\" fill=\"#FFFFFF\"></path>            <path d=\"M44.127969,41.1538382 L31.0814568,41.1538382 C29.9510748,41.1536429 28.8827052,40.9256134 27.9079888,40.5136953 C26.4467442,39.8960136 25.19849,38.8599685 24.3189894,37.5577099 C23.8792391,36.906727 23.5314818,36.1899233 23.2936866,35.4252675 C23.2130217,35.16589 23.1460289,34.9005554 23.0913409,34.6307286 L44.1278714,34.6307286 C45.028466,34.6306309 45.7586488,33.9004481 45.7586488,32.9998535 C45.7586488,32.0992589 45.028466,31.3690761 44.1278714,31.3690761 L23.0905596,31.3690761 C23.1990567,30.8337194 23.3597028,30.3180894 23.5675173,29.8264831 C24.185199,28.3652386 25.2212442,27.1169844 26.5236004,26.2374838 C27.1745833,25.7977334 27.891387,25.4499762 28.6560428,25.2122786 C29.4208939,24.9744833 30.2334994,24.8459665 31.0813591,24.8459665 L44.1277737,24.8459665 C45.0283683,24.8459665 45.7586488,24.1157837 45.7586488,23.2151891 C45.7586488,22.3145945 45.0283683,21.5844117 44.1277737,21.5844117 L31.0813591,21.5844117 C29.5096643,21.5844117 28.0039858,21.9038483 26.6373711,22.4820765 C24.5866678,23.3498583 22.8469049,24.7950871 21.6163267,26.616296 C20.3856508,28.4362354 19.665136,30.6413347 19.6658191,33.0000488 C19.6658191,34.5717436 19.9852563,36.0774222 20.5635822,37.4440369 C21.4312663,39.4947402 22.8765927,41.2345031 24.697704,42.4650813 C26.5176434,43.6957572 28.7227427,44.4155883 31.0814568,44.4155883 L44.1278714,44.4155883 C45.028466,44.4155883 45.7586488,43.6854055 45.7586488,42.7848109 C45.7586488,41.8842163 45.0285636,41.1538382 44.127969,41.1538382 Z\" id=\"set_of\" fill=\"#000000\" fill-rule=\"nonzero\"></path>        </g>    </g></svg></div>\n  <code style=\"font-size:11px;\">&nbsp;col_vals_in_set()</code>\n</div></td>\n<td headers=\"columns\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"IND_GENDER_TRAVELER\" data-balloon-pos=\"left\">\n  <p style=\"margin-top:0;margin-bottom:0;font-size:11px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:2em;\">\n    <code><span style=\"color:purple;\">&marker;</span>IND_GENDER_TRAVELER</code>\n  </p>\n</div></td>\n<td headers=\"values\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"Male, Female\" data-balloon-pos=\"left\"><p style=\"margin-top: 0px; margin-bottom: 0px; font-size: 11px; white-space: nowrap; text-overflow: ellipsis; overflow: hidden;\"><code>Male, Female</code></p></div></td>\n<td headers=\"precon\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:0;color:#333333;vertical-align:middle;font-size:10px;border:none;border-radius:4px;\" aria-label=\"No modifications of the table.\" data-balloon-pos=\"left\"><svg width=\"25px\" height=\"25px\" viewBox=\"0 0 25 25\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"vertical-align: middle;\">    <g id=\"unchanged\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"unchanged\" transform=\"translate(0.500000, 0.570147)\">            <rect id=\"Rectangle\" x=\"0.125132506\" y=\"0\" width=\"23.749735\" height=\"23.7894737\"></rect>            <path d=\"M5.80375046,8.18194736 C3.77191832,8.18194736 2.11875046,9.83495328 2.11875046,11.8669474 C2.11875046,13.8989414 3.77191832,15.5519474 5.80375046,15.5519474 C7.8355826,15.5519474 9.48875046,13.8989414 9.48875046,11.8669474 C9.48875046,9.83495328 7.83552863,8.18194736 5.80375046,8.18194736 Z M5.80375046,14.814915 C4.17821997,14.814915 2.85578285,13.4924778 2.85578285,11.8669474 C2.85578285,10.2414169 4.17821997,8.91897975 5.80375046,8.91897975 C7.42928095,8.91897975 8.75171807,10.2414169 8.75171807,11.8669474 C8.75171807,13.4924778 7.42928095,14.814915 5.80375046,14.814915 Z\" id=\"Shape\" fill=\"#000000\" fill-rule=\"nonzero\"></path>            <path d=\"M13.9638189,8.699335 C13.9364621,8.70430925 13.9091059,8.71176968 13.8842359,8.71923074 C13.7822704,8.73663967 13.6877654,8.77643115 13.6056956,8.83860518 L10.2433156,11.3852598 C10.0766886,11.5046343 9.97720993,11.6986181 9.97720993,11.9025491 C9.97720993,12.1064807 10.0766886,12.3004639 10.2433156,12.4198383 L13.6056956,14.966493 C13.891697,15.1803725 14.2970729,15.1231721 14.5109517,14.8371707 C14.7248313,14.5511692 14.6676309,14.145794 14.3816294,13.9319145 L12.5313257,12.5392127 L21.8812495,12.5392127 L21.8812495,11.2658854 L12.5313257,11.2658854 L14.3816294,9.87318364 C14.6377872,9.71650453 14.7497006,9.40066014 14.6477351,9.11714553 C14.5482564,8.83363156 14.262255,8.65954352 13.9638189,8.699335 Z\" id=\"arrow\" fill=\"#000000\" transform=\"translate(15.929230, 11.894737) rotate(-180.000000) translate(-15.929230, -11.894737) \"></path>        </g>    </g></svg></span></td>\n<td headers=\"eval_sym\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:5px;color:#4CA64C;vertical-align:middle;font-size:15px;border:none;\" aria-label=\"No evaluation issues.\" data-balloon-pos=\"left\">&check;</span></td>\n<td headers=\"units\" class=\"gt_row gt_right\" style=\"font-size: 11px; height: 40px\"><code>139</code></td>\n<td headers=\"n_pass\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>137</code><br><code>0.98561</code></td>\n<td headers=\"n_fail\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>2</code><br><code>0.01439</code></td>\n<td headers=\"W\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"S\" class=\"gt_row gt_center\" style=\"background-color: #FCFCFC; height: 40px\"><span style=\"color: #CF142B;\">&#9679;</span></td>\n<td headers=\"N\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"extract\" class=\"gt_row gt_center\" style=\"height: 40px\"><a href=\"data:text/csv;base64,IklEX1RSSVAiLCJDQVRfREVTVElOQVRJT05fQ0lUWSIsIkRUX1NUQVJUIiwiRFRfRU5EIiwiTl9EVVJBVElPTl9EQVkiLCJDQVRfVFJBVkVMRVJfTkFNRSIsIlZBTF9BR0VfVFJBVkVMRVIiLCJJTkRfR0VOREVSX1RSQVZFTEVSIiwiQ0FUX1RSQVZFTEVSX05BVElPTkFMSVRZIiwiQ0FUX0FDQ09NTU9EQVRJT05fVFlQRSIsIkFNVF9BQ0NPTU1PREFUSU9OX0NPU1QiLCJDQVRfVFJBTlNQT1JUQVRJT05fVFlQRSIsIkFNVF9UUkFOU1BPUlRBVElPTl9DT1NUIg0KNzIsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkEsTkENCjEyOCxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQSxOQQ0K\" download=\"extract_0004.csv\">\n  <button aria-label=\"There are 2 'fail' rows available as a CSV file.\" data-balloon-pos=\"left\" style=\"background-color:#67C2DC;color:#FFFFFF;border:none;padding:5px;font-weight:bold;cursor:pointer;border-radius:4px;\">CSV</button>\n</a></td></tr>\n    <tr><td headers=\"status_color\" class=\"gt_row gt_left\" style=\"background-color: #CF142B; height: 40px\"><br /></td>\n<td headers=\"i\" class=\"gt_row gt_right\" style=\"color: #666666; font-size: 13px; font-weight: bold; height: 40px\">5</td>\n<td headers=\"type\" class=\"gt_row gt_left\" style=\"height: 40px\"><div aria-label=\"Expect that column `DT_START` is of type: Date. \" data-balloon-pos=\"right\" style=\"width:fit-content;\">\n  <div style=\"margin:0;padding:0;display:inline-block;height:30px;vertical-align:middle;\"><?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"30px\" height=\"30px\" viewBox=\"0 0 67 67\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">    <title>col_is_date</title>    <g id=\"All-Icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"col_is_date\" transform=\"translate(0.000000, 0.379310)\">            <path d=\"M56.712234,1.01466935 C59.1975153,1.01466935 61.4475153,2.02202867 63.076195,3.65070832 C64.7048747,5.27938798 65.712234,7.52938798 65.712234,10.0146694 L65.712234,10.0146694 L65.712234,65.0146694 L10.712234,65.0146694 C8.22695259,65.0146694 5.97695259,64.00731 4.34827294,62.3786304 C2.71959328,60.7499507 1.71223397,58.4999507 1.71223397,56.0146694 L1.71223397,56.0146694 L1.71223397,10.0146694 C1.71223397,7.52938798 2.71959328,5.27938798 4.34827294,3.65070832 C5.97695259,2.02202867 8.22695259,1.01466935 10.712234,1.01466935 L10.712234,1.01466935 Z\" id=\"rectangle\" stroke=\"#000000\" stroke-width=\"2\" fill=\"#FFFFFF\"></path>            <rect id=\"column\" fill=\"#000000\" x=\"12.2117153\" y=\"12.0146694\" width=\"20\" height=\"42\" rx=\"1\"></rect>            <path d=\"M40.7190873,43.0146694 L40.7190873,24.2256069 L46.9651811,24.2256069 C48.8271696,24.2256069 50.3315491,24.4329616 51.4783647,24.8476772 C52.6251803,25.2623928 53.6175206,25.9648597 54.4554155,26.955099 C55.7841981,28.5293257 56.4485795,30.6028726 56.4485795,33.1758022 C56.4485795,36.2988647 55.6233925,38.7194134 53.9729936,40.4375209 C52.3225947,42.1556285 49.9993758,43.0146694 47.003267,43.0146694 L40.7190873,43.0146694 Z M43.385103,41.0215053 L46.800142,41.0215053 C49.2376542,41.0215053 50.9641994,40.3655874 51.9798295,39.0537319 C53.0716319,37.6572405 53.6175248,35.7825848 53.6175248,33.4297084 C53.6175248,31.220713 53.0800953,29.4857043 52.0052202,28.2246303 C51.3535242,27.4544441 50.5748861,26.9275939 49.6692827,26.6440639 C48.7636792,26.3605338 47.4010626,26.2187709 45.581392,26.2187709 L43.385103,26.2187709 L43.385103,41.0215053 Z\" id=\"D\" fill=\"#000000\"></path>        </g>    </g></svg></div>\n  <code style=\"font-size:11px;\">&nbsp;col_is_date()</code>\n</div></td>\n<td headers=\"columns\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"DT_START\" data-balloon-pos=\"left\">\n  <p style=\"margin-top:0;margin-bottom:0;font-size:11px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:2em;\">\n    <code><span style=\"color:purple;\">&marker;</span>DT_START</code>\n  </p>\n</div></td>\n<td headers=\"values\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\">—</td>\n<td headers=\"precon\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:0;color:#333333;vertical-align:middle;font-size:10px;border:none;border-radius:4px;\" aria-label=\"No modifications of the table.\" data-balloon-pos=\"left\"><svg width=\"25px\" height=\"25px\" viewBox=\"0 0 25 25\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"vertical-align: middle;\">    <g id=\"unchanged\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"unchanged\" transform=\"translate(0.500000, 0.570147)\">            <rect id=\"Rectangle\" x=\"0.125132506\" y=\"0\" width=\"23.749735\" height=\"23.7894737\"></rect>            <path d=\"M5.80375046,8.18194736 C3.77191832,8.18194736 2.11875046,9.83495328 2.11875046,11.8669474 C2.11875046,13.8989414 3.77191832,15.5519474 5.80375046,15.5519474 C7.8355826,15.5519474 9.48875046,13.8989414 9.48875046,11.8669474 C9.48875046,9.83495328 7.83552863,8.18194736 5.80375046,8.18194736 Z M5.80375046,14.814915 C4.17821997,14.814915 2.85578285,13.4924778 2.85578285,11.8669474 C2.85578285,10.2414169 4.17821997,8.91897975 5.80375046,8.91897975 C7.42928095,8.91897975 8.75171807,10.2414169 8.75171807,11.8669474 C8.75171807,13.4924778 7.42928095,14.814915 5.80375046,14.814915 Z\" id=\"Shape\" fill=\"#000000\" fill-rule=\"nonzero\"></path>            <path d=\"M13.9638189,8.699335 C13.9364621,8.70430925 13.9091059,8.71176968 13.8842359,8.71923074 C13.7822704,8.73663967 13.6877654,8.77643115 13.6056956,8.83860518 L10.2433156,11.3852598 C10.0766886,11.5046343 9.97720993,11.6986181 9.97720993,11.9025491 C9.97720993,12.1064807 10.0766886,12.3004639 10.2433156,12.4198383 L13.6056956,14.966493 C13.891697,15.1803725 14.2970729,15.1231721 14.5109517,14.8371707 C14.7248313,14.5511692 14.6676309,14.145794 14.3816294,13.9319145 L12.5313257,12.5392127 L21.8812495,12.5392127 L21.8812495,11.2658854 L12.5313257,11.2658854 L14.3816294,9.87318364 C14.6377872,9.71650453 14.7497006,9.40066014 14.6477351,9.11714553 C14.5482564,8.83363156 14.262255,8.65954352 13.9638189,8.699335 Z\" id=\"arrow\" fill=\"#000000\" transform=\"translate(15.929230, 11.894737) rotate(-180.000000) translate(-15.929230, -11.894737) \"></path>        </g>    </g></svg></span></td>\n<td headers=\"eval_sym\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:5px;color:#4CA64C;vertical-align:middle;font-size:15px;border:none;\" aria-label=\"No evaluation issues.\" data-balloon-pos=\"left\">&check;</span></td>\n<td headers=\"units\" class=\"gt_row gt_right\" style=\"font-size: 11px; height: 40px\"><code>1</code></td>\n<td headers=\"n_pass\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>0</code><br><code>0</code></td>\n<td headers=\"n_fail\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>1</code><br><code>1</code></td>\n<td headers=\"W\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"S\" class=\"gt_row gt_center\" style=\"background-color: #FCFCFC; height: 40px\"><span style=\"color: #CF142B;\">&#9679;</span></td>\n<td headers=\"N\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"extract\" class=\"gt_row gt_center\" style=\"height: 40px\">&mdash;</td></tr>\n    <tr><td headers=\"status_color\" class=\"gt_row gt_left\" style=\"background-color: #CF142B; height: 40px\"><br /></td>\n<td headers=\"i\" class=\"gt_row gt_right\" style=\"color: #666666; font-size: 13px; font-weight: bold; height: 40px\">6</td>\n<td headers=\"type\" class=\"gt_row gt_left\" style=\"height: 40px\"><div aria-label=\"Expect that column `DT_END` is of type: Date. \" data-balloon-pos=\"right\" style=\"width:fit-content;\">\n  <div style=\"margin:0;padding:0;display:inline-block;height:30px;vertical-align:middle;\"><?xml version=\"1.0\" encoding=\"UTF-8\"?><svg width=\"30px\" height=\"30px\" viewBox=\"0 0 67 67\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">    <title>col_is_date</title>    <g id=\"All-Icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"col_is_date\" transform=\"translate(0.000000, 0.379310)\">            <path d=\"M56.712234,1.01466935 C59.1975153,1.01466935 61.4475153,2.02202867 63.076195,3.65070832 C64.7048747,5.27938798 65.712234,7.52938798 65.712234,10.0146694 L65.712234,10.0146694 L65.712234,65.0146694 L10.712234,65.0146694 C8.22695259,65.0146694 5.97695259,64.00731 4.34827294,62.3786304 C2.71959328,60.7499507 1.71223397,58.4999507 1.71223397,56.0146694 L1.71223397,56.0146694 L1.71223397,10.0146694 C1.71223397,7.52938798 2.71959328,5.27938798 4.34827294,3.65070832 C5.97695259,2.02202867 8.22695259,1.01466935 10.712234,1.01466935 L10.712234,1.01466935 Z\" id=\"rectangle\" stroke=\"#000000\" stroke-width=\"2\" fill=\"#FFFFFF\"></path>            <rect id=\"column\" fill=\"#000000\" x=\"12.2117153\" y=\"12.0146694\" width=\"20\" height=\"42\" rx=\"1\"></rect>            <path d=\"M40.7190873,43.0146694 L40.7190873,24.2256069 L46.9651811,24.2256069 C48.8271696,24.2256069 50.3315491,24.4329616 51.4783647,24.8476772 C52.6251803,25.2623928 53.6175206,25.9648597 54.4554155,26.955099 C55.7841981,28.5293257 56.4485795,30.6028726 56.4485795,33.1758022 C56.4485795,36.2988647 55.6233925,38.7194134 53.9729936,40.4375209 C52.3225947,42.1556285 49.9993758,43.0146694 47.003267,43.0146694 L40.7190873,43.0146694 Z M43.385103,41.0215053 L46.800142,41.0215053 C49.2376542,41.0215053 50.9641994,40.3655874 51.9798295,39.0537319 C53.0716319,37.6572405 53.6175248,35.7825848 53.6175248,33.4297084 C53.6175248,31.220713 53.0800953,29.4857043 52.0052202,28.2246303 C51.3535242,27.4544441 50.5748861,26.9275939 49.6692827,26.6440639 C48.7636792,26.3605338 47.4010626,26.2187709 45.581392,26.2187709 L43.385103,26.2187709 L43.385103,41.0215053 Z\" id=\"D\" fill=\"#000000\"></path>        </g>    </g></svg></div>\n  <code style=\"font-size:11px;\">&nbsp;col_is_date()</code>\n</div></td>\n<td headers=\"columns\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\"><div aria-label=\"DT_END\" data-balloon-pos=\"left\">\n  <p style=\"margin-top:0;margin-bottom:0;font-size:11px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:2em;\">\n    <code><span style=\"color:purple;\">&marker;</span>DT_END</code>\n  </p>\n</div></td>\n<td headers=\"values\" class=\"gt_row gt_left\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; height: 40px\">—</td>\n<td headers=\"precon\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:0;color:#333333;vertical-align:middle;font-size:10px;border:none;border-radius:4px;\" aria-label=\"No modifications of the table.\" data-balloon-pos=\"left\"><svg width=\"25px\" height=\"25px\" viewBox=\"0 0 25 25\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" style=\"vertical-align: middle;\">    <g id=\"unchanged\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">        <g id=\"unchanged\" transform=\"translate(0.500000, 0.570147)\">            <rect id=\"Rectangle\" x=\"0.125132506\" y=\"0\" width=\"23.749735\" height=\"23.7894737\"></rect>            <path d=\"M5.80375046,8.18194736 C3.77191832,8.18194736 2.11875046,9.83495328 2.11875046,11.8669474 C2.11875046,13.8989414 3.77191832,15.5519474 5.80375046,15.5519474 C7.8355826,15.5519474 9.48875046,13.8989414 9.48875046,11.8669474 C9.48875046,9.83495328 7.83552863,8.18194736 5.80375046,8.18194736 Z M5.80375046,14.814915 C4.17821997,14.814915 2.85578285,13.4924778 2.85578285,11.8669474 C2.85578285,10.2414169 4.17821997,8.91897975 5.80375046,8.91897975 C7.42928095,8.91897975 8.75171807,10.2414169 8.75171807,11.8669474 C8.75171807,13.4924778 7.42928095,14.814915 5.80375046,14.814915 Z\" id=\"Shape\" fill=\"#000000\" fill-rule=\"nonzero\"></path>            <path d=\"M13.9638189,8.699335 C13.9364621,8.70430925 13.9091059,8.71176968 13.8842359,8.71923074 C13.7822704,8.73663967 13.6877654,8.77643115 13.6056956,8.83860518 L10.2433156,11.3852598 C10.0766886,11.5046343 9.97720993,11.6986181 9.97720993,11.9025491 C9.97720993,12.1064807 10.0766886,12.3004639 10.2433156,12.4198383 L13.6056956,14.966493 C13.891697,15.1803725 14.2970729,15.1231721 14.5109517,14.8371707 C14.7248313,14.5511692 14.6676309,14.145794 14.3816294,13.9319145 L12.5313257,12.5392127 L21.8812495,12.5392127 L21.8812495,11.2658854 L12.5313257,11.2658854 L14.3816294,9.87318364 C14.6377872,9.71650453 14.7497006,9.40066014 14.6477351,9.11714553 C14.5482564,8.83363156 14.262255,8.65954352 13.9638189,8.699335 Z\" id=\"arrow\" fill=\"#000000\" transform=\"translate(15.929230, 11.894737) rotate(-180.000000) translate(-15.929230, -11.894737) \"></path>        </g>    </g></svg></span></td>\n<td headers=\"eval_sym\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\"><span style=\"background:transparent;padding:5px;color:#4CA64C;vertical-align:middle;font-size:15px;border:none;\" aria-label=\"No evaluation issues.\" data-balloon-pos=\"left\">&check;</span></td>\n<td headers=\"units\" class=\"gt_row gt_right\" style=\"font-size: 11px; height: 40px\"><code>1</code></td>\n<td headers=\"n_pass\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>0</code><br><code>0</code></td>\n<td headers=\"n_fail\" class=\"gt_row gt_right\" style=\"border-left-width: 1px; border-left-style: dashed; border-left-color: #E5E5E5; font-size: 11px; height: 40px\"><code>1</code><br><code>1</code></td>\n<td headers=\"W\" class=\"gt_row gt_center\" style=\"border-left-width: 1px; border-left-style: solid; border-left-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"S\" class=\"gt_row gt_center\" style=\"background-color: #FCFCFC; height: 40px\"><span style=\"color: #CF142B;\">&#9679;</span></td>\n<td headers=\"N\" class=\"gt_row gt_center\" style=\"border-right-width: 1px; border-right-style: solid; border-right-color: #D3D3D3; background-color: #FCFCFC; height: 40px\">&mdash;</td>\n<td headers=\"extract\" class=\"gt_row gt_center\" style=\"height: 40px\">&mdash;</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"14\"><span style=\"background-color:#FFF;color:#444;padding:0.5em 0.5em;position:inherit;text-transform:uppercase;margin-left:10px;border:solid 1px #999999;font-variant-numeric:tabular-nums;border-radius:0;padding:2px 10px 2px 10px;padding:2px 10px 2px 10px;\">2024-07-04 09:52:39 +07</span>\n<span style=\"background-color:#FFF;color:#444;padding:0.5em 0.5em;position:inherit;margin:5px 1px 5px 0;border:solid 1px #999999;font-variant-numeric:tabular-nums;border-radius:0;padding:2px 10px 2px 10px;\">&lt; 1 s</span>\n<span style=\"background-color:#FFF;color:#444;padding:0.5em 0.5em;position:inherit;text-transform:uppercase;margin:5px 1px 5px -1px;border:solid 1px #999999;font-variant-numeric:tabular-nums;border-radius:0;padding:2px 10px 2px 10px;\">2024-07-04 09:52:39 +07</span></td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\nCool! Không chỉ kiểm tra được tính đúng đắn của dữ liệu, cũng có thể xác định được biến nào không tuân theo quy tắc đặt tên.\n\n# Data Discoverability\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncols_data <- names(trip_data)\ncols_data_split <- strsplit(cols_data,\"_\")\ncols_components <- data.frame(\n  variable = cols_data,\n  level1 = vapply(cols_data_split, FUN = function(x) x[1], FUN.VALUE = character(1)),\n  level2 = vapply(cols_data_split, FUN = function(x) x[2], FUN.VALUE = character(1))\n)\nhead(cols_components)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              variable level1      level2\n1              ID_TRIP     ID        TRIP\n2 CAT_DESTINATION_CITY    CAT DESTINATION\n3             DT_START     DT       START\n4               DT_END     DT         END\n5       N_DURATION_DAY      N    DURATION\n6    CAT_TRAVELER_NAME    CAT    TRAVELER\n```\n\n\n:::\n:::\n\n\nĐây là một cách để xây dựng metadata, chúng ta có thể touch một cách interactive với:\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(DT)\ndatatable(cols_components,  filter = list(position = 'top', clear = FALSE))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-38da5d6e8848be63810c\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-38da5d6e8848be63810c\">{\"x\":{\"filter\":\"top\",\"vertical\":false,\"filterHTML\":\"<tr>\\n  <td><\\/td>\\n  <td data-type=\\\"character\\\" style=\\\"vertical-align: top;\\\">\\n    <div class=\\\"form-group\\\" style=\\\"margin-bottom: auto;\\\">\\n      <input type=\\\"search\\\" placeholder=\\\"All\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\"/>\\n    <\\/div>\\n  <\\/td>\\n  <td data-type=\\\"character\\\" style=\\\"vertical-align: top;\\\">\\n    <div class=\\\"form-group\\\" style=\\\"margin-bottom: auto;\\\">\\n      <input type=\\\"search\\\" placeholder=\\\"All\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\"/>\\n    <\\/div>\\n  <\\/td>\\n  <td data-type=\\\"character\\\" style=\\\"vertical-align: top;\\\">\\n    <div class=\\\"form-group\\\" style=\\\"margin-bottom: auto;\\\">\\n      <input type=\\\"search\\\" placeholder=\\\"All\\\" class=\\\"form-control\\\" style=\\\"width: 100%;\\\"/>\\n    <\\/div>\\n  <\\/td>\\n<\\/tr>\",\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\"],[\"ID_TRIP\",\"CAT_DESTINATION_CITY\",\"DT_START\",\"DT_END\",\"N_DURATION_DAY\",\"CAT_TRAVELER_NAME\",\"VAL_AGE_TRAVELER\",\"IND_GENDER_TRAVELER\",\"CAT_TRAVELER_NATIONALITY\",\"CAT_ACCOMMODATION_TYPE\",\"AMT_ACCOMMODATION_COST\",\"CAT_TRANSPORTATION_TYPE\",\"AMT_TRANSPORTATION_COST\"],[\"ID\",\"CAT\",\"DT\",\"DT\",\"N\",\"CAT\",\"VAL\",\"IND\",\"CAT\",\"CAT\",\"AMT\",\"CAT\",\"AMT\"],[\"TRIP\",\"DESTINATION\",\"START\",\"END\",\"DURATION\",\"TRAVELER\",\"AGE\",\"GENDER\",\"TRAVELER\",\"ACCOMMODATION\",\"ACCOMMODATION\",\"TRANSPORTATION\",\"TRANSPORTATION\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>variable<\\/th>\\n      <th>level1<\\/th>\\n      <th>level2<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"variable\",\"targets\":1},{\"name\":\"level1\",\"targets\":2},{\"name\":\"level2\",\"targets\":3}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false,\"orderCellsTop\":true}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\nCũng có thể visualize thành một tree như bên dưới:\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(collapsibleTree)\ncollapsibleTree(cols_components, \n                hierarchy = paste0(\"level\", 1:2),\n                nodeSize = \"leafCount\"\n                )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"collapsibleTree html-widget html-fill-item\" id=\"htmlwidget-848b250e5c4166207b6a\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-848b250e5c4166207b6a\">{\"x\":{\"data\":{\"name\":\"cols_components\",\"SizeOfNode\":34.41,\"children\":[{\"name\":\"ID\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"TRIP\",\"SizeOfNode\":9.93}]},{\"name\":\"CAT\",\"SizeOfNode\":19.87,\"children\":[{\"name\":\"DESTINATION\",\"SizeOfNode\":9.93},{\"name\":\"TRAVELER\",\"SizeOfNode\":9.93},{\"name\":\"ACCOMMODATION\",\"SizeOfNode\":9.93},{\"name\":\"TRANSPORTATION\",\"SizeOfNode\":9.93}]},{\"name\":\"DT\",\"SizeOfNode\":14.05,\"children\":[{\"name\":\"START\",\"SizeOfNode\":9.93},{\"name\":\"END\",\"SizeOfNode\":9.93}]},{\"name\":\"N\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"DURATION\",\"SizeOfNode\":9.93}]},{\"name\":\"VAL\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"AGE\",\"SizeOfNode\":9.93}]},{\"name\":\"IND\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"GENDER\",\"SizeOfNode\":9.93}]},{\"name\":\"AMT\",\"SizeOfNode\":14.05,\"children\":[{\"name\":\"ACCOMMODATION\",\"SizeOfNode\":9.93},{\"name\":\"TRANSPORTATION\",\"SizeOfNode\":9.93}]}]},\"options\":{\"hierarchy\":[\"level1\",\"level2\"],\"input\":null,\"attribute\":\"leafCount\",\"linkLength\":null,\"fontSize\":10,\"tooltip\":false,\"collapsed\":true,\"zoomable\":true,\"margin\":{\"top\":20,\"bottom\":20,\"left\":124.41,\"right\":95},\"fill\":\"lightsteelblue\"}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\nĐây là cách xem từ kiểu dữ liệu -> chủ thể, chúng ta cũng có thể làm ngược lại:\n\n::: {.cell}\n\n```{.r .cell-code}\ncollapsibleTree(cols_components, \n                hierarchy = paste0(\"level\", c(2,1)),\n                nodeSize = \"leafCount\"\n                )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"collapsibleTree html-widget html-fill-item\" id=\"htmlwidget-7e3f955f97ec0b1d8268\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-7e3f955f97ec0b1d8268\">{\"x\":{\"data\":{\"name\":\"cols_components\",\"SizeOfNode\":34.41,\"children\":[{\"name\":\"TRIP\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"ID\",\"SizeOfNode\":9.93}]},{\"name\":\"DESTINATION\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"CAT\",\"SizeOfNode\":9.93}]},{\"name\":\"START\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"DT\",\"SizeOfNode\":9.93}]},{\"name\":\"END\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"DT\",\"SizeOfNode\":9.93}]},{\"name\":\"DURATION\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"N\",\"SizeOfNode\":9.93}]},{\"name\":\"TRAVELER\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"CAT\",\"SizeOfNode\":9.93}]},{\"name\":\"AGE\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"VAL\",\"SizeOfNode\":9.93}]},{\"name\":\"GENDER\",\"SizeOfNode\":9.93,\"children\":[{\"name\":\"IND\",\"SizeOfNode\":9.93}]},{\"name\":\"ACCOMMODATION\",\"SizeOfNode\":14.05,\"children\":[{\"name\":\"CAT\",\"SizeOfNode\":9.93},{\"name\":\"AMT\",\"SizeOfNode\":9.93}]},{\"name\":\"TRANSPORTATION\",\"SizeOfNode\":14.05,\"children\":[{\"name\":\"CAT\",\"SizeOfNode\":9.93},{\"name\":\"AMT\",\"SizeOfNode\":9.93}]}]},\"options\":{\"hierarchy\":[\"level2\",\"level1\"],\"input\":null,\"attribute\":\"leafCount\",\"linkLength\":null,\"fontSize\":10,\"tooltip\":false,\"collapsed\":true,\"zoomable\":true,\"margin\":{\"top\":20,\"bottom\":20,\"left\":124.41,\"right\":40},\"fill\":\"lightsteelblue\"}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nBộ dữ liệu mình sử dụng khá nghèo nàn và tập trung về một chủ thể duy nhất là `TRIP`, nên khả năng minh họa không được phong phú 😂. Ngoài ra, việc đặt tên như thế cũng giúp ta dễ dàng gọi biến ở IDE.\n\n# Data Wrangling\n\nTương tự, với việc sử dụng một bộ từ điển có hệ thống, lớp lang cũng support chúng ta trong việc biến đổi dữ liệu. Ví dụ chúng ta có thể tận dụng \"select helpers\" trong gói `dplyr`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\ntrip_data <- as.data.frame(trip_data)\ntrip_data %>%\n  filter(if_any(everything(), ~ !is.na(.))) %>% \n  group_by(CAT_TRAVELER_NATIONALITY) %>%\n  summarize(\n    across(starts_with(\"DT_\"), c(min,max))\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 42 × 5\n   CAT_TRAVELER_NATIONALITY DT_START_1 DT_START_2 DT_END_1   DT_END_2 \n   <chr>                    <chr>      <chr>      <chr>      <chr>    \n 1 American                 1/1/2023   9/15/2022  1/1/2023   9/22/2022\n 2 Australian               11/20/2023 9/5/2022   11/30/2023 9/14/2022\n 3 Brazil                   4/3/2024   4/3/2024   4/10/2024  4/10/2024\n 4 Brazilian                1/15/2024  8/1/2023   1/12/2024  8/10/2023\n 5 British                  1/1/2025   8/20/2022  1/15/2023  9/2/2022 \n 6 Cambodia                 9/10/2022  9/10/2022  9/15/2022  9/15/2022\n 7 Canada                   7/1/2022   9/1/2022   7/10/2022  9/10/2022\n 8 Canadian                 1/2/2023   8/15/2023  1/9/2023   8/22/2023\n 9 China                    5/8/2023   5/8/2023   5/14/2023  5/14/2023\n10 Chinese                  11/11/2022 9/1/2023   11/21/2022 9/8/2023 \n# ℹ 32 more rows\n```\n\n\n:::\n:::\n\n\n\n# Other languages\n\n## Generating SQL\nSử dụng R để generate SQL query\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dbplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dbplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:dplyr':\n\n    ident, sql\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(RSQLite)\ndf_mem <- memdb_frame(trip_data, .name = \"example_table\")\n\ndf_mem %>%\n  group_by(CAT_TRAVELER_NATIONALITY) %>%\n  summarize_at(vars(starts_with(\"N_\")), mean, na.rm = TRUE) %>%\n  show_query()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<SQL>\nSELECT `CAT_TRAVELER_NATIONALITY`, AVG(`N_DURATION_DAY`) AS `N_DURATION_DAY`\nFROM `example_table`\nGROUP BY `CAT_TRAVELER_NATIONALITY`\n```\n\n\n:::\n:::\n\n## R - `base` & `data.table`\nsử dụng `base::grep` để tìm tất cả các columns bắt đầu bằng `AMT_`\n\n::: {.cell}\n\n```{.r .cell-code}\ncols_n <- grep(\"^AMT_\", names(trip_data), value = TRUE)\nprint(cols_n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"AMT_ACCOMMODATION_COST\"  \"AMT_TRANSPORTATION_COST\"\n```\n\n\n:::\n:::\n\nsử dụng vector để lưu các cột chúng ta muốn group by:\n\n::: {.cell}\n\n```{.r .cell-code}\ncols_grp <- c(\"CAT_TRAVELER_NATIONALITY\")\n```\n:::\n\nchúng ta có thể dùng vector này trong `stats::aggregate`\n\n::: {.cell}\n\n:::\n\nhoặc trong `data.table` \n\n::: {.cell}\n\n:::\n\n## python `pandas`\ntương tự trong python, sử dụng list comprehension:\n```{{python}}\n\nimport pandas as pd\ncols_n   = [vbl for vbl in trip_data.columns if vbl[0:2] == 'AMT_']\ncols_grp = [\"CAT_TRAVELER_NATIONALITY\"]\ntrip_data.groupby(cols_grp)[cols_n].sum()\n```\n# Updates by Emily\n\n## Concept Map\n\n```{mermaid}\n%%{init: {'theme':'dark'}}%%\nflowchart LR\n  A(dataframe)-- has --> B(columns)\n  A(dataframe)-- has --> C(names)\n  B -- have --> D(data types)\n  B -- have --> E(units)\n  B -- have --> F(meaning)\n  C -- should encode --> D\n  C -- should encode --> E\n  C -- should encode --> F\n  C -- can support --> G(validation)\n  C -- explained in --> H(documentation)\n  G -- should check consistency of --> C\n  G -- should check consistency of --> H\n  H --> I(data dictionary)\n  H --> K(ERD)\n```\n\n## New Package (Dec 2020)\n[`convo`](https://emilyriederer.github.io/convo/articles/quickstart-guide.html) là một thư viện released bởi Emily phục vụ cho việc quản lý controlled vocabulary:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(convo)\n```\n:::\n\n::: {.cell filename='vocab.yaml'}\n\n```{.yaml .cell-code}\nlevel1:\n  ID:\n    desc: Unique identifier\n    valid:\n      - col_vals_not_null()\n      - col_is_numeric()\n      - col_vals_between(1000, 99999)\n  IND:\n    desc: Binary indicator\n    valid:\n      - col_is_numeric()\n      - col_vals_in_set(c(0,1))\n    rename:\n      - when: SUM\n        then: 'N'\n      - when: AVG\n        then: P\n  AMT:\n    desc: Non-negative, summable quantity\n    valid:\n      - col_is_numeric()\n      - col_vals_gte(0)\n  VAL:\n    desc: Value\n    valid:\n      - col_is_numeric()\n    rename:\n      - when: AVG\n        then: VALAV\n```\n:::\n\n\n## New Package (April 2021)\n\n[`dbtplyr`](https://emilyriederer.github.io/dbtplyr/#!/overview) là một package port tính năng \"select helpers\" của `dplyr` sang `dbt`.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/datatables-binding-0.33/datatables.js\"></script>\n<script src=\"../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"../../site_libs/nouislider-7.0.10/jquery.nouislider.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/nouislider-7.0.10/jquery.nouislider.min.js\"></script>\n<link href=\"../../site_libs/selectize-0.12.0/selectize.bootstrap3.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/selectize-0.12.0/selectize.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<script src=\"../../site_libs/d3-4.10.2/d3.min.js\"></script>\n<link href=\"../../site_libs/collapsibleTree-0.1.6/collapsibleTree.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/collapsibleTree-binding-0.1.8/collapsibleTree.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}